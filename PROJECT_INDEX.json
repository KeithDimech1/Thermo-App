{"at":"2025-11-16T22:19:37.431873","root":".","tree":[".","\u251c\u2500\u2500 app/ (14 files)","\u2502   \u251c\u2500\u2500 analysis/ (1 files)","\u2502   \u251c\u2500\u2500 api/ (5 files)","\u2502   \u2502   \u251c\u2500\u2500 datasets/ (1 files)","\u2502   \u2502   \u2502   \u2514\u2500\u2500 [id]/ (1 files)","\u2502   \u2502   \u2502       \u2514\u2500\u2500 download-all/ (1 files)","\u2502   \u2502   \u251c\u2500\u2500 samples/ (2 files)","\u2502   \u2502   \u2502   \u2514\u2500\u2500 [id]/ (1 files)","\u2502   \u2502   \u251c\u2500\u2500 stats/ (1 files)","\u2502   \u2502   \u2514\u2500\u2500 tables/ (1 files)","\u2502   \u2502       \u2514\u2500\u2500 [name]/ (1 files)","\u2502   \u251c\u2500\u2500 datasets/ (2 files)","\u2502   \u2502   \u2514\u2500\u2500 [id]/ (1 files)","\u2502   \u251c\u2500\u2500 samples/ (2 files)","\u2502   \u2502   \u2514\u2500\u2500 [id]/ (1 files)","\u2502   \u2514\u2500\u2500 tables/ (1 files)","\u251c\u2500\u2500 build-data/ (4 files)","\u2502   \u251c\u2500\u2500 archive/","\u2502   \u2502   \u2514\u2500\u2500 README.md"],"stats":{"total_files":77,"total_directories":51,"fully_parsed":{"typescript":29,"python":23,"javascript":1},"listed_only":{"sql":13,"shell":4,"json":6,"css":1},"markdown_files":17},"f":{"app/api/tables/[name]/route.ts":["t",["GET:50:async (request:NextRequest, { params }:{ params:{ name:string } })::"]],"components/datasets/DatasetCard.tsx":["t",["DatasetCard:11:({ dataset, sampleCount = 0, aftGrainCount = 0, aheGrainCount = 0 }:DatasetCardProps):parsePostgresArray:","parsePostgresArray:18:(val:any):string[]::"]],"components/datasets/DownloadSection.tsx":["t",["formatFileSize:9:(bytes:number | null):string::","DownloadSection:16:({ files, datasetId, totalSize }:DownloadSectionProps):formatFileSize:"]],"components/tables/ExportButton.tsx":["t",["ExportButton:11:({ data, filename, label = 'Export CSV' }:ExportButtonProps)::","exportToCSV:12:()::"]],"components/tables/InteractiveTable.tsx":["t",["InteractiveTable:21:({ tableName, columns }:InteractiveTableProps)::","fetchData:35:async ()::"]],"components/tables/TableSelector.tsx":["t",["TableSelector:42:({ selectedTable, onTableChange }:TableSelectorProps)::"]],"components/ui/Breadcrumb.tsx":["t",["Breadcrumb:13:({ items }:BreadcrumbProps)::"]],"s/debug-page10.py":["p",["debug_page:10:(pdf, page_num)::Debug specific page"]],"s/examine-pdf-page.py":["p",["examine_page:10:(pdf, page_num)::Examine a specific page","main:55:():examine_page:Main"]],"s/extract-all-tables.py":["p",["clean_cell:15:(cell)::Clean cell content","parse_multi_row_cell:23:(cell_value)::Split cells containing multiple rows","get_page_text:30:(page)::Get cleaned text from page","extract_table_1_fission_track:35:(pdf):clean_cell,get_page_text,parse_multi_row_cell:Extract Table 1 - Fission Track (Page 9)","extract_table_2_uthhe:88:(pdf):clean_cell,get_page_text,parse_multi_row_cell:Extract Table 2 - (U-Th)/He (Pages 10-11 main data)","save_to_csv:181:(data, filename, output_dir)::Save to CSV","validate_extraction:195:(filepath, expected_desc)::Validate extracted data","main:216:():extract_table_1_fission_track,extract_table_2_uthhe,save_to_csv,validate_extraction:Main execution"]],"s/extract-from-text.py":["p",["extract_table2_from_text:15:(pdf)::Extract Table 2 (U-Th-He) by parsing text directly","extract_table1_from_text:61:(pdf)::Extract Table 1 (Fission Track) by parsing text","save_csv:97:(data, filename)::Save data to CSV","show_summary:108:(filepath)::Show summary of extracted file","main:122:():extract_table1_from_text,extract_table2_from_text,save_csv,show_summary:Main execution"]],"s/extract-tables-final.py":["p",["clean_cell:15:(cell)::Clean cell content","parse_multi_row_cell:25:(cell_value)::Split cells that contain multiple rows of data","extract_fission_track_table:33:(pdf):clean_cell,parse_multi_row_cell:Extract Table 1 - Fission Track data from page 9","extract_uthe_table:93:(pdf):clean_cell,parse_multi_row_cell:Extract Table 2 - (U-Th)/He data from pages 10-11","save_to_csv:152:(data, filename, output_dir)::Save data to CSV","show_sample:167:(filepath, num_rows=3)::Display sample of CSV file","main:184:():extract_fission_track_table,extract_uthe_table,save_to_csv,show_sample:Main execution"]],"s/extract-tables-mcmillan.py":["p",["clean_cell:24:(cell)::Clean cell content","is_table_header:30:(row, keywords):clean_cell:Check if row contains table header keywords","identify_table:38:(table_data, page_num):clean_cell:Identify which table this is based on content","extract_tables_from_pdf:56:(pdf_path):clean_cell,identify_table:Extract all tables from PDF using pdfplumber","save_table_to_csv:110:(table_data, table_id, config, output_dir):clean_cell:Save table data to CSV file","main:143:():extract_tables_from_pdf,save_table_to_csv:Main execution"]],"s/extract-tables-v2.py":["p",["clean_cell:14:(cell)::Clean cell content","extract_tables_with_context:20:(pdf_path):clean_cell:Extract tables with page context","merge_table_parts:86:(extracted):clean_cell:Merge multi-page table parts","save_to_csv:111:(table_info, output_dir):clean_cell:Save table to CSV","main:133:():extract_tables_with_context,merge_table_parts,save_to_csv:Main execution"]],"s/inspect-pdf-tables.py":["p",["inspect_page:11:(page, page_num)::Inspect a single page for table content","main:50:():inspect_page:Main inspection"]],"s/pdf/cache.py":["p",{"PDFCache":["19",["__init__:35:(self, cache_dir:str = './cache')::","get_cache_key:46:(self, pdf_path:str, step:str)>str::","get:63:(self, pdf_path:str, step:str)>Optional[Any]:get_cache_key:","set:89:(self, pdf_path:str, step:str, data:Any)>None:get_cache_key:","clear:107:(self, pdf_path:Optional[str] = None)>None::"]]}],"s/pdf/cleaners.py":["p",["clean_extracted_table:27:(df:pd.DataFrame, table_type:str)>pd.DataFrame:_clean_cell_values,_convert_numeric_columns,_fix_wrapped_cells,_merge_split_rows,_normalize_column_name,_remove_continued_rows,_remove_empty_rows_cols,_remove_footer_rows,_remove_header_rows:","_remove_header_rows:69:(df:pd.DataFrame)>pd.DataFrame::","_remove_footer_rows:104:(df:pd.DataFrame)>pd.DataFrame::","_remove_continued_rows:138:(df:pd.DataFrame)>pd.DataFrame::","_merge_split_rows:152:(df:pd.DataFrame, table_type:str)>pd.DataFrame::","_fix_wrapped_cells:209:(df:pd.DataFrame)>pd.DataFrame::","_normalize_column_name:221:(col:str)>str::","_clean_cell_values:272:(df:pd.DataFrame)>pd.DataFrame::","_convert_numeric_columns:300:(df:pd.DataFrame, table_type:str)>pd.DataFrame::","_remove_empty_rows_cols:334:(df:pd.DataFrame)>pd.DataFrame::","clean_sample_id:356:(sample_id:str)>str::","split_value_error:388:(value_str:str)>tuple::"]],"s/pdf/extraction_engine.py":["p",["extract_from_pdf:434:(pdf_path:str, cache_dir:str = './cache')>Dict:analyze,extract_all,transform_to_fair,validate:"],{"UniversalThermoExtractor":["57",["__init__:75:(self, pdf_path:str, cache_dir:str = './cache')::","analyze:95:(self)>'UniversalThermoExtractor':_extract_metadata,_get_full_text:","extract_all:144:(self)>Dict[str, pd.DataFrame]:_extract_table_with_progressive_fallback,analyze:","transform_to_fair:202:(self)>Dict[str, pd.DataFrame]:extract_all:","validate:243:(self, data:Optional[Dict[str, pd.DataFrame]] = None)>Dict:validate:","_extract_table_with_progressive_fallback:303:(self, page:int, bbox:Tuple[float, float, float, float], table_type:str, quality_threshold:float = 0.6)>Optional[pd.DataFrame]::","_extract_metadata:393:(self)>Dict::Extract paper metadata from PDF","_get_full_text:424:(self)>str::Extract full text from PDF"]]}],"s/pdf/extraction_validator.py":["p",["validate_extraction_batch:502:(tables:Dict[str, Dict[str, Dict]])>Tuple[Dict[str, pd.DataFrame], List[Dict]]:validate_and_merge:"],{"ExtractionValidator":["27",["__init__:32:(self)::","validate_and_merge:39:(self, table_id:str, extractions:Dict[str, Dict[str, Any]])>Tuple[pd.DataFrame, Dict]:_detect_discrepancies,_reconcile_discrepancies:","_detect_discrepancies:111:(self, table_id:str, extractions:Dict[str, Dict])>List[Dict]:_compare_cell_values:","_compare_cell_values:171:(self, dfs:List[pd.DataFrame], methods:List[str])>List[Dict]:_numeric_difference,_values_equivalent:","_values_equivalent:212:(self, val1:Any, val2:Any, tolerance:float = 0.01)>bool::","_numeric_difference:254:(self, val1:Any, val2:Any)>Optional[float]::Calculate numeric difference if both values are numeric","_reconcile_discrepancies:266:(self, table_id:str, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]:_resolve_cell_value_discrepancy,_resolve_column_discrepancy,_resolve_row_count_discrepancy:","_resolve_row_count_discrepancy:306:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::","_resolve_column_discrepancy:367:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::","_resolve_cell_value_discrepancy:426:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::"]]}],"s/pdf/fair_transformer.py":["p",{"FAIRTransformer":["32",["__init__:35:(self)::Initialize transformer","transform:43:(self, extracted_tables:Dict[str, pd.DataFrame], metadata:Dict)>Dict[str, pd.DataFrame]:_create_ahe_table,_create_ft_ages_table,_create_ft_counts_table,_create_samples_table,_create_track_lengths_table,_find_tables_by_type:","_find_tables_by_type:105:(self, tables:Dict[str, pd.DataFrame], table_type:str)>List[pd.DataFrame]:_is_table_type:Find all tables of a specific type","_is_table_type:116:(self, df:pd.DataFrame, table_type:str)>bool::Check if DataFrame is of a specific type","_create_samples_table:134:(self, extracted_tables:Dict[str, pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id,_generate_igsn,_is_table_type:","_create_ft_ages_table:179:(self, aft_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:","_create_ft_counts_table:220:(self, count_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:","_create_track_lengths_table:278:(self, length_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:","_create_ahe_table:315:(self, ahe_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:","_extract_sample_id:362:(self, row:pd.Series)>Optional[str]::Extract sample ID from row","_extract_field:373:(self, row:pd.Series, field_names:List[str])>Optional[float]::","_generate_igsn:400:(self, sample_id:str, metadata:Dict)>str::","_generate_grain_ids:409:(self, sample_id:str, n_grains:int)>List[str]::Generate unique grain IDs for traceability","_generate_sample_mount_id:413:(self, sample_id:str, mount_date:datetime)>str::Generate sample mount ID"]]}],"s/pdf/methods_parser.py":["p",{"MethodsParser":["24",["__init__:27:(self)::Initialize parser with pattern libraries","parse_methods:74:(self, full_text:str)>Dict:_extract_algorithm,_extract_analyst,_extract_counting_method,_extract_dosimeter,_extract_etching,_extract_laboratory,_extract_microscope,_extract_objective,_extract_software,_extract_zeta,_find_methods_section:","_find_methods_section:122:(self, text:str)>Optional[str]::","_extract_analyst:161:(self, text:str)>Optional[str]::Extract analyst name","_extract_laboratory:169:(self, text:str)>Optional[str]::Extract laboratory name","_extract_microscope:177:(self, text:str)>Optional[str]::Extract microscope type","_extract_objective:188:(self, text:str)>Optional[str]::Extract objective magnification","_extract_etching:202:(self, text:str)>Optional[str]::Extract etching conditions","_extract_dosimeter:227:(self, text:str)>Optional[str]::Extract dosimeter glass type","_extract_software:235:(self, text:str)>Optional[str]::Extract software used","_extract_counting_method:243:(self, text:str)>Optional[str]::Extract FT counting method","_extract_algorithm:253:(self, text:str)>Optional[str]::Extract FT age calculation algorithm","_extract_zeta:263:(self, text:str)>Optional[Dict]::","extract_mineral_type:281:(self, text:str)>Optional[str]::Extract mineral type (apatite, zircon)","extract_reactor:291:(self, text:str)>Optional[str]::Extract irradiation reactor"]]}],"s/pdf/semantic_analysis.py":["p",{"DocumentStructure":["25",["__init__:28:(self, pdf_path:str)::","build_reference_map:40:(self)>Dict:_extract_table_captions,_find_table_bbox,classify_table_from_caption:","_extract_table_captions:92:(self)>List[Dict]:_find_text_bbox:","_find_text_bbox:138:(self, page, text_snippet:str, fuzzy:bool = True)>Optional[Tuple]::","_find_table_bbox:185:(self, page_num:int, caption_bbox:Optional[Tuple])>Tuple::","classify_table_from_caption:235:(self, caption:str)>str::","classify_table:275:(self, table_content:str, caption:str)>str:classify_table_from_caption:","resolve_reference:313:(self, ref_text:str)>Optional[Dict]::","get_table_info:330:(self, table_id:str)>Optional[Dict]::Get table information by ID","get_tables_by_type:334:(self, table_type:str)>List[str]::","__del__:350:(self)::Close PDF on cleanup"]]}],"s/pdf/table_extractors.py":["p",["_cluster_x_coordinates:33:(text_items:List[Dict], tolerance:float = 15.0)>List[float]::","_assign_to_column:72:(x_coord:float, column_positions:List[float], tolerance:float = 20.0)>int::","extract_table_from_text:104:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_assign_to_column,_cluster_x_coordinates:","_get_page_height:313:(pdf_path:str, page:int)>float::","extract_with_camelot_lattice:338:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_get_page_height:","extract_with_camelot_stream:387:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_get_page_height:","extract_with_pdfplumber:433:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]::","evaluate_extraction_quality:472:(df:pd.DataFrame, table_type:str = None)>float::","extract_table_with_voting:566:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str)>Optional[pd.DataFrame]:evaluate_extraction_quality:","extract_by_type:624:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str)>Optional[pd.DataFrame]:evaluate_extraction_quality,extract_table_with_voting:"]],"s/pdf/validators.py":["p",["validate_by_type:25:(df:pd.DataFrame, table_type:str)>Dict::","validate_aft_ages:48:(df:pd.DataFrame)>Dict:_find_column,_has_column:","validate_ahe_data:154:(df:pd.DataFrame)>Dict:_find_column,_has_column:","validate_track_counts:233:(df:pd.DataFrame)>Dict:_find_column,_has_column:","validate_track_lengths:295:(df:pd.DataFrame)>Dict:_find_column,_has_column:","validate_generic:358:(df:pd.DataFrame)>Dict::","_has_column:396:(df:pd.DataFrame, col_pattern:str)>bool:_find_column:Check if DataFrame has a column matching pattern","_find_column:401:(df:pd.DataFrame, patterns:List[str])>str::"]],"s/query-mcmillan-data.js":["j",["queryMcMillanData:15:async ()::"]],"s/search-appendix-tables.py":["p",["search_for_tables:10:(pdf)::Search for Table A2 and Table A3"]],"s/validation-report.py":["p",["analyze_csv:11:(filepath)::Analyze CSV file content","main:32:():analyze_csv:Generate report"]],"app/analysis/page.tsx":["t",["AnalysisPage:8:()::"]],"app/api/datasets/[id]/download-all/route.ts":["t",["GET:7:async (_request:NextRequest, { params }:{ params:{ id:string } })::"]],"app/api/samples/[id]/route.ts":["t",["GET:17:async (_request:NextRequest, { params }:{ params:{ id:string } })::"]],"app/api/samples/route.ts":["t",["GET:26:async (request:NextRequest)::"]],"app/api/stats/route.ts":["t",["GET:17:async (request:NextRequest)::"]],"app/datasets/[id]/page.tsx":["t",["parsePostgresArray:28:(val:any):string[]::","getDatasetStats:42:async (datasetId:number):Promise<DatasetStats>::","generateMetadata:70:async ({ params }:PageProps):Promise<Metadata>::","PaperDetailPage:86:async ({ params }:PageProps)::"]],"app/datasets/page.tsx":["t",["getDatasetStats:20:async ():Promise<Map<number, DatasetStats>>::","PapersPage:51:async ():getDatasetStats:"]],"app/layout.tsx":["t",["RootLayout:71:({ children, }:Readonly<{ children:React.ReactNode; }>)::"]],"app/page.tsx":["t",["HomePage:6:async ()::"]],"app/samples/[id]/page.tsx":["t",["SampleDetailPage:7:async ({ params, }:{ params:{ id:string }; })::"]],"app/samples/page.tsx":["t",["SamplesPage:6:async ()::"]],"app/tables/page.tsx":["t",["TablesPage:70:()::"]],"components/NavigationBar.tsx":["t",["NavigationBar:6:():isActive:","isActive:17:(href:string)::"]],"lib/db/connection.ts":["t",["getPool:49:():Pool::","query:107:async (text:string, params?:any[]):Promise<T[]>:getPool,query:","queryOne:143:async (text:string, params?:any[]):Promise<T | null>::","transaction:167:async (callback:(client:PoolClient):getPool,query:","testConnection:193:async ():Promise<boolean>::","closePool:212:async ():Promise<void>::","getPoolStats:224:()::"]],"lib/db/queries.ts":["t",["getAllSamples:36:async (filters?:SampleFilters, limit:number = 50, offset:number = 0, sortBy:'sample_id' | 'elevation_m' | 'mineral_type' = 'sample_id', sortOrder:'asc' | 'desc' = 'asc'):Promise<PaginatedResponse<Sample>>::","getSampleSummaries:108:async (filters?:SampleFilters, limit:number = 50, offset:number = 0):Promise<PaginatedResponse<SampleSummary>>::","getSampleById:150:async (sampleId:string):Promise<Sample | null>::","getSampleDetail:160:async (sampleId:string):Promise<SampleDetailResponse | null>:getSampleById:","getAFTData:187:async (filters?:FTDataFilters, limit:number = 50, offset:number = 0):Promise<PaginatedResponse<AFTComplete>>::","getFTAgesBySample:254:async (sampleId:string):Promise<FTAges | null>::","getFTLengthsBySample:264:async (sampleId:string):Promise<FTTrackLengths | null>::","getFTCountsBySample:274:async (sampleId:string):Promise<FTCounts | null>::","getAHeData:288:async (filters?:AHeDataFilters, limit:number = 100, offset:number = 0):Promise<PaginatedResponse<AHeGrainData>>::","getAHeGrainsBySample:345:async (sampleId:string):Promise<AHeGrainData[]>::","getDatasetStats:359:async (datasetId:number = 1):Promise<DatasetStatsResponse>::","searchSamplesByLocation:409:async (minLat:number, maxLat:number, minLon:number, maxLon:number):Promise<Sample[]>::","getAllDatasets:433:async ():Promise<Dataset[]>::","getDatasetById:446:async (id:number):Promise<Dataset | null>::","getDatasetsByAuthor:459:async (author:string):Promise<Dataset[]>::","getAllAuthors:473:async ():Promise<string[]>::","getDataFilesByDataset:493:async (datasetId:number):Promise<DataFile[]>::","getDataFileById:506:async (id:number):Promise<DataFile | null>::","getDatasetTotalFileSize:518:async (datasetId:number):Promise<number>::"]],"lib/utils/cn.ts":["t",["cn:10:(...classes:ClassValue[]):string::"]],"s/break-papers-into-sections.py":["p",["extract_sections:12:(content:str, paper_name:str)>List[Tuple[str, str, str]]::","create_index_file:67:(sections:List[Tuple[str, str, str]], paper_title:str)>str::Create an index/README file for the paper sections.","process_paper:83:(paper_path:str, output_base:str, paper_short_name:str, paper_title:str):create_index_file,extract_sections:Process a single paper and break it into sections.","main:118:():process_paper:"]],"s/break-terminology-docs.py":["p",["extract_metadata_and_toc:12:(lines:List[str])>Tuple[List[str], int]::","extract_sections:38:(content:str, doc_name:str)>List[Tuple[str, str, str]]:extract_metadata_and_toc:","create_index_file:98:(sections:List[Tuple[str, str, str]], doc_title:str, original_path:str)>str::Create an index/README file for the document sections.","process_document:124:(doc_path:str, output_base:str, folder_name:str, doc_title:str):create_index_file,extract_sections:Process a single document and break it into sections.","main:159:():process_document:"]],"s/db/import-thermo-data.ts":["t",["log:52:(message:string, type:'info' | 'success' | 'error' | 'warn' = 'info'):log:","parseCSV:73:(content:string):Record<string, string>[]:parseLine:","parseLine:77:(line:string):string[]::","toSQLValue:117:(value:string | null):any::","importSamples:131:async (client:PoolClient):log,parseCSV,toSQLValue:","importFTCounts:199:async (client:PoolClient):log,parseCSV,toSQLValue:","importFTTrackLengths:283:async (client:PoolClient):log,parseCSV,toSQLValue:","importFTAges:332:async (client:PoolClient):log,parseArray,parseCSV,toSQLValue:","importAHeGrainData:401:async (client:PoolClient):log,parseCSV,toSQLValue:","main:458:async ():importAHeGrainData,importFTAges,importFTCounts,importFTTrackLengths,importSamples,log:","parseArray:342:(val:string | null):string | null::"]],"s/db/reset-database.ts":["t",["askQuestion:42:(query:string):Promise<string>::","resetDatabase:58:async ():askQuestion:"]],"s/db/run-migration.ts":["t",["runMigration:53:async ()::"]],"s/db/test-connection.ts":["t",["testConnection:38:async ()::"]]},"g":[["FAIRTransformer._create_samples_table","_generate_igsn"],["ExtractionValidator._reconcile_discrepancies","_resolve_cell_value_discrepancy"],["DownloadSection","formatFileSize"],["extract_from_pdf","analyze"],["FAIRTransformer._create_ahe_table","_extract_field"],["main","extract_table1_from_text"],["extract_fission_track_table","clean_cell"],["main","merge_table_parts"],["FAIRTransformer.transform","FAIRTransformer._find_tables_by_type"],["extract_table_with_voting","evaluate_extraction_quality"],["main","extract_uthe_table"],["FAIRTransformer._create_samples_table","FAIRTransformer._is_table_type"],["main","process_paper"],["UniversalThermoExtractor.analyze","_extract_metadata"],["FAIRTransformer.transform","FAIRTransformer._create_ft_ages_table"],["validate_extraction_batch","ExtractionValidator.validate_and_merge"],["ExtractionValidator.validate_and_merge","ExtractionValidator._detect_discrepancies"],["importFTTrackLengths","parseCSV"],["MethodsParser.parse_methods","MethodsParser._extract_algorithm"],["FAIRTransformer._create_ft_ages_table","_extract_sample_id"],["validate_track_counts","_has_column"],["main","extract_fission_track_table"],["MethodsParser.parse_methods","MethodsParser._extract_laboratory"],["extract_from_pdf","UniversalThermoExtractor.analyze"],["extract_table_from_text","_cluster_x_coordinates"],["process_document","extract_sections"],["ExtractionValidator._compare_cell_values","_numeric_difference"],["validate_aft_ages","_find_column"],["FAIRTransformer.transform","_find_tables_by_type"],["FAIRTransformer._create_track_lengths_table","_extract_field"],["importFTCounts","toSQLValue"],["MethodsParser.parse_methods","_extract_laboratory"],["extract_by_type","evaluate_extraction_quality"],["FAIRTransformer._create_samples_table","FAIRTransformer._generate_igsn"],["extract_uthe_table","clean_cell"],["UniversalThermoExtractor.validate","validate"],["extract_table_1_fission_track","clean_cell"],["main","show_summary"],["MethodsParser.parse_methods","_extract_dosimeter"],["importAHeGrainData","parseCSV"],["MethodsParser.parse_methods","_extract_counting_method"],["MethodsParser.parse_methods","_extract_etching"],["MethodsParser.parse_methods","MethodsParser._extract_microscope"],["FAIRTransformer.transform","_create_ft_counts_table"],["MethodsParser.parse_methods","MethodsParser._extract_objective"],["extract_table_2_uthhe","clean_cell"],["validate_track_lengths","_find_column"],["UniversalThermoExtractor.transform_to_fair","extract_all"],["FAIRTransformer._create_ft_counts_table","FAIRTransformer._extract_field"],["FAIRTransformer.transform","_create_track_lengths_table"],["importFTAges","parseArray"],["extract_from_pdf","UniversalThermoExtractor.validate"],["DocumentStructure.classify_table","classify_table_from_caption"],["importFTAges","parseCSV"],["MethodsParser.parse_methods","MethodsParser._extract_dosimeter"],["UniversalThermoExtractor.extract_all","UniversalThermoExtractor._extract_table_with_progressive_fallback"],["FAIRTransformer._create_ft_counts_table","FAIRTransformer._extract_sample_id"],["FAIRTransformer.transform","_create_ahe_table"],["extract_uthe_table","parse_multi_row_cell"],["is_table_header","clean_cell"],["extract_table_1_fission_track","parse_multi_row_cell"],["importFTTrackLengths","toSQLValue"],["process_document","create_index_file"],["FAIRTransformer.transform","_create_ft_ages_table"],["getSampleDetail","getSampleById"],["main","extract_table2_from_text"],["transaction","getPool"],["DocumentStructure.build_reference_map","DocumentStructure.classify_table_from_caption"],["clean_extracted_table","_remove_footer_rows"],["extract_sections","extract_metadata_and_toc"],["main","save_table_to_csv"],["UniversalThermoExtractor.transform_to_fair","UniversalThermoExtractor.extract_all"],["query","getPool"],["MethodsParser.parse_methods","_extract_microscope"],["main","examine_page"],["FAIRTransformer._create_samples_table","_extract_sample_id"],["FAIRTransformer.transform","FAIRTransformer._create_track_lengths_table"],["FAIRTransformer._create_ft_counts_table","_extract_field"],["clean_extracted_table","_clean_cell_values"],["extract_table_from_text","_assign_to_column"],["importAHeGrainData","toSQLValue"],["MethodsParser.parse_methods","MethodsParser._extract_software"],["extract_fission_track_table","parse_multi_row_cell"],["UniversalThermoExtractor.analyze","_get_full_text"],["ExtractionValidator.validate_and_merge","_reconcile_discrepancies"],["main","importSamples"],["FAIRTransformer._create_samples_table","_is_table_type"],["extract_tables_from_pdf","identify_table"],["main","extract_table_1_fission_track"],["importFTAges","toSQLValue"],["UniversalThermoExtractor.analyze","UniversalThermoExtractor._extract_metadata"],["MethodsParser.parse_methods","_extract_algorithm"],["ExtractionValidator._reconcile_discrepancies","ExtractionValidator._resolve_cell_value_discrepancy"],["NavigationBar","isActive"],["main","save_csv"],["extract_from_pdf","extract_all"],["MethodsParser.parse_methods","_extract_analyst"],["FAIRTransformer._create_track_lengths_table","_extract_sample_id"],["ExtractionValidator._reconcile_discrepancies","_resolve_column_discrepancy"],["extract_from_pdf","transform_to_fair"],["ExtractionValidator._detect_discrepancies","_compare_cell_values"],["FAIRTransformer.transform","_create_samples_table"],["UniversalThermoExtractor.extract_all","analyze"],["clean_extracted_table","_convert_numeric_columns"],["MethodsParser.parse_methods","_extract_software"],["ExtractionValidator._detect_discrepancies","ExtractionValidator._compare_cell_values"],["MethodsParser.parse_methods","MethodsParser._find_methods_section"],["main","save_to_csv"],["UniversalThermoExtractor.analyze","UniversalThermoExtractor._get_full_text"],["extract_tables_with_context","clean_cell"],["FAIRTransformer.transform","FAIRTransformer._create_samples_table"],["validate_extraction_batch","validate_and_merge"],["main","inspect_page"],["save_table_to_csv","clean_cell"],["PDFCache.set","get_cache_key"],["extract_from_pdf","UniversalThermoExtractor.extract_all"],["FAIRTransformer._find_tables_by_type","FAIRTransformer._is_table_type"],["extract_table_2_uthhe","parse_multi_row_cell"],["MethodsParser.parse_methods","_extract_objective"],["MethodsParser.parse_methods","MethodsParser._extract_analyst"],["UniversalThermoExtractor.extract_all","UniversalThermoExtractor.analyze"],["DocumentStructure.build_reference_map","DocumentStructure._find_table_bbox"],["validate_aft_ages","_has_column"],["main","importFTAges"],["main","extract_tables_from_pdf"],["FAIRTransformer._create_ahe_table","_extract_sample_id"],["validate_ahe_data","_find_column"],["FAIRTransformer.transform","FAIRTransformer._create_ahe_table"],["ExtractionValidator._compare_cell_values","ExtractionValidator._numeric_difference"],["FAIRTransformer._create_ft_ages_table","FAIRTransformer._extract_field"],["FAIRTransformer._create_samples_table","FAIRTransformer._extract_field"],["UniversalThermoExtractor.extract_all","_extract_table_with_progressive_fallback"],["importSamples","log"],["extract_from_pdf","UniversalThermoExtractor.transform_to_fair"],["merge_table_parts","clean_cell"],["validate_track_counts","_find_column"],["process_paper","create_index_file"],["FAIRTransformer._create_ft_ages_table","FAIRTransformer._extract_sample_id"],["UniversalThermoExtractor.validate","UniversalThermoExtractor.validate"],["FAIRTransformer._create_samples_table","FAIRTransformer._extract_sample_id"],["validate_track_lengths","_has_column"],["importSamples","parseCSV"],["PDFCache.set","PDFCache.get_cache_key"],["FAIRTransformer._create_ft_counts_table","_extract_sample_id"],["importFTCounts","log"],["MethodsParser.parse_methods","MethodsParser._extract_zeta"],["DocumentStructure.build_reference_map","DocumentStructure._extract_table_captions"],["_has_column","_find_column"],["PDFCache.get","get_cache_key"],["clean_extracted_table","_remove_empty_rows_cols"],["DocumentStructure._extract_table_captions","_find_text_bbox"],["log","log"],["FAIRTransformer._create_track_lengths_table","FAIRTransformer._extract_field"],["extract_from_pdf","validate"],["main","extract_table_2_uthhe"],["main","importAHeGrainData"],["identify_table","clean_cell"],["main","show_sample"],["FAIRTransformer._create_track_lengths_table","FAIRTransformer._extract_sample_id"],["MethodsParser.parse_methods","MethodsParser._extract_etching"],["extract_with_camelot_lattice","_get_page_height"],["process_paper","extract_sections"],["DocumentStructure._extract_table_captions","DocumentStructure._find_text_bbox"],["transaction","query"],["FAIRTransformer._create_ft_ages_table","_extract_field"],["FAIRTransformer._create_samples_table","_extract_field"],["extract_tables_from_pdf","clean_cell"],["MethodsParser.parse_methods","_find_methods_section"],["validate_ahe_data","_has_column"],["main","analyze_csv"],["importFTTrackLengths","log"],["parseCSV","parseLine"],["main","importFTCounts"],["main","log"],["query","query"],["clean_extracted_table","_normalize_column_name"],["main","importFTTrackLengths"],["ExtractionValidator._compare_cell_values","_values_equivalent"],["MethodsParser.parse_methods","_extract_zeta"],["clean_extracted_table","_merge_split_rows"],["importSamples","toSQLValue"],["PDFCache.get","PDFCache.get_cache_key"],["FAIRTransformer._create_ahe_table","FAIRTransformer._extract_field"],["DocumentStructure.build_reference_map","classify_table_from_caption"],["extract_with_camelot_stream","_get_page_height"],["ExtractionValidator._reconcile_discrepancies","ExtractionValidator._resolve_column_discrepancy"],["MethodsParser.parse_methods","MethodsParser._extract_counting_method"],["resetDatabase","askQuestion"],["FAIRTransformer.transform","FAIRTransformer._create_ft_counts_table"],["clean_extracted_table","_remove_continued_rows"],["FAIRTransformer._create_ahe_table","FAIRTransformer._extract_sample_id"],["main","validate_extraction"],["importAHeGrainData","log"],["ExtractionValidator._compare_cell_values","ExtractionValidator._values_equivalent"],["DatasetCard","parsePostgresArray"],["ExtractionValidator.validate_and_merge","ExtractionValidator._reconcile_discrepancies"],["FAIRTransformer._find_tables_by_type","_is_table_type"],["ExtractionValidator._reconcile_discrepancies","ExtractionValidator._resolve_row_count_discrepancy"],["DocumentStructure.build_reference_map","_extract_table_captions"],["DocumentStructure.classify_table","DocumentStructure.classify_table_from_caption"],["extract_by_type","extract_table_with_voting"],["main","process_document"],["ExtractionValidator._reconcile_discrepancies","_resolve_row_count_discrepancy"],["extract_table_1_fission_track","get_page_text"],["importFTAges","log"],["main","extract_tables_with_context"],["clean_extracted_table","_remove_header_rows"],["importFTCounts","parseCSV"],["save_to_csv","clean_cell"],["DocumentStructure.build_reference_map","_find_table_bbox"],["ExtractionValidator.validate_and_merge","_detect_discrepancies"],["extract_table_2_uthhe","get_page_text"],["PapersPage","getDatasetStats"],["clean_extracted_table","_fix_wrapped_cells"]],"d":{"output/EXTRACTION_REPORT.md":["McMillan 2024 PDF Table Extraction Report","Summary","Extraction Method","Extracted Tables","Table 1 - Fission Track Results","Table 2 - (U-Th)/He Results","Tables Not Extracted (Appendix)","Table A2 - EMPA Data","Table A3 - Durango Standards","Validation Against Expected Results"],"output/McMillan-2024-table-analysis.md":["McMillan et al. 2024 - PDF Table Analysis","Executive Summary","Tables Found in PDF","Table 1: Apatite Fission Track Results Summary","Table 2 (1/2): Apatite (U-Th-Sm)/He Results Summary","Table 2 (2/2): [NOT FOUND in extracted text]","Table A2: Detailed EMPA Data","Table A3: Durango Apatite (U-Th)/He Standard Run Results"],"output/extraction-summary.md":["PDF Table Extraction Summary - McMillan 2024 Table 1","Files Created","Extraction Success","\u2713 Successfully Extracted (15 fields)","\u2713 Data Verification","Field Comparison vs Reference CSV","Overlapping Fields (8)","PDF-Only Fields (7)","Reference-Only Fields (14)","Key Insights"],"output/field-comparison-report.md":["Field Comparison Report: PDF Extract vs Reference CSV","Summary","Field Mapping","Fields Present in BOTH (Overlapping)","Fields in PDF Extract NOT in Reference","Fields in Reference NOT in PDF Extract","Summary Statistics","Key Insights"],"output/side-by-side-comparison.md":["Side-by-Side Field Comparison","PDF Extract vs AusGeochem Reference CSV","Fields Present in BOTH (8 fields)","Fields ONLY in PDF Extract (7 fields)","Fields ONLY in Reference CSV (14 fields)","Summary Counts","Gap Analysis","Critical Fields for ft_ages Table","Metadata Fields (Can be inferred from me"],"readme/app/api/tables/[name]/route.md":["API Route: /api/tables/[name]","What It Does","Database Interactions","Tables Used","Key Queries","Database Documentation","Key Exports","API Parameters","Dependencies","Used By"],"readme/components/tables/InteractiveTable.md":["InteractiveTable","What It Does","Database Interactions","Database Documentation","Key Exports","Component Props","Component State","Features","Dependencies","Used By"],"readme/scripts/query-mcmillan-data.md":["query-mcmillan-data.js","What It Does","Database Interactions","Tables Used","Key Queries","Database Documentation","Key Exports","Script Usage","Run the script","Or make it executable and run directly"],"readme/CHANGES.md":["Documentation Changes","2025-11-16 21:15 (IDEA-006: Universal PDF Extraction Engine - Phase 1 COMPLETE)","\ud83d\ude80 NEW: Universal PDF Extraction Engine","\ud83d\udcdd New Modules Created (8 files, 2,806 lines)","\ud83d\udce6 Packages Installed (100+ dependencies)","\u2705 Implementation Status","\ud83e\uddea Testing Status","\ud83d\udcca Next Steps","2025-11-16 19:27 (BigTidy: Living Documentation Generation)","\ud83d\udcda NEW: Code Documentation System Operational"],"readme/INDEX.md":["AusGeochem Thermochronology - Code Documentation","\ud83d\udcd6 Quick Start","\ud83d\uddc2\ufe0f Documentation by Category","\ud83d\uddc4\ufe0f Database Documentation","\u2699\ufe0f Database Layer (2 files)","\ud83d\udce6 Type Definitions (1 file)","\ud83c\udf10 API Routes (4 files)","\ud83d\udda5\ufe0f Pages (4 files)","\ud83e\udde9 Components (2 files)","\ud83d\udd27 Utilities (1 file)"],"readme/database/SCHEMA_CHANGES.md":["Database Schema Changes","2025-11-11 (Initial Schema Documentation)","\u2705 Initial Schema Baseline Created","2025-11-12 18:03 (Schema Verification)","\u2705 No Schema Changes Detected","\ud83d\udea8 2025-11-16 (MAJOR SCHEMA MIGRATION)","\u274c Complete Database Replacement Detected"],"readme/database/tables/ahe_grain_data.md":["Table: `ahe_grain_data`","Overview","Schema (Key Fields)","Relationships","Used By","Key Concepts"],"readme/database/tables/datasets.md":["Table: `datasets`","Overview","Schema (Key Fields)","Relationships","No Parents","Referenced By (Children)","Used By","Key Concepts","Example Data"],"readme/database/tables/ft_ages.md":["Table: `ft_ages`","Overview","Schema (Key Fields)","Relationships","Foreign Keys","Check Constraints","Used By","Key Concepts","Example Data"],"readme/database/tables/ft_counts.md":["Table: `ft_counts`","Overview","Schema (Key Fields)","Relationships","Used By","Key Concepts"],"readme/database/tables/ft_track_lengths.md":["Table: `ft_track_lengths`","Overview","Schema (Key Fields)","Relationships","Used By","Key Concepts"],"readme/database/tables/samples.md":["Table: `samples`","Overview","Schema (Key Fields)","Relationships","Foreign Keys (Parents)","Referenced By (Children)","Used By (Code Files)","Key Concepts","Common Queries","Notes"]},"deps":{"app/api/tables/[name]/route.ts":["next/server","@/lib/db/connection"],"components/datasets/DatasetCard.tsx":["next/link","@/lib/types/thermo-data"],"components/datasets/DownloadSection.tsx":["@/lib/types/thermo-data"],"components/tables/ExportButton.tsx":["lucide-react"],"components/tables/InteractiveTable.tsx":["react","@tanstack/react-table","components/tables/ExportButton.tsx"],"components/ui/Breadcrumb.tsx":["next/link","lucide-react"],"scripts/debug-page10.py":["pdfplumber"],"scripts/examine-pdf-page.py":["pdfplumber"],"scripts/extract-all-tables.py":["pdfplumber","csv","os","re"],"scripts/extract-from-text.py":["pdfplumber","csv","os","re"],"scripts/extract-tables-final.py":["pdfplumber","csv","os","re"],"scripts/extract-tables-mcmillan.py":["pdfplumber","csv","os","pathlib"],"scripts/extract-tables-v2.py":["pdfplumber","csv","os","re"],"scripts/inspect-pdf-tables.py":["pdfplumber","pdfplumber.utils"],"scripts/pdf/cache.py":["hashlib","pickle","logging","pathlib","typing"],"scripts/pdf/cleaners.py":["logging","typing","pandas","numpy","re"],"scripts/pdf/extraction_engine.py":["logging","pathlib","typing","pandas","camelot","fitz  # pymupdf","pdfplumber","re","sys"],"scripts/pdf/extraction_validator.py":["logging","typing","pandas","numpy","collections"],"scripts/pdf/fair_transformer.py":["logging","typing","datetime","pandas","numpy"],"scripts/pdf/methods_parser.py":["logging","re","typing"],"scripts/pdf/semantic_analysis.py":["logging","re","pathlib","typing","fitz  # pymupdf","re"],"scripts/pdf/table_extractors.py":["logging","typing","pandas","fitz  # pymupdf for page dimensions","camelot","pdfplumber","fitz","collections","traceback"],"scripts/pdf/validators.py":["logging","typing","pandas","numpy"],"scripts/query-mcmillan-data.js":["pg"],"scripts/search-appendix-tables.py":["pdfplumber"],"scripts/validation-report.py":["csv","os"],"app/analysis/page.tsx":["next"],"app/api/datasets/[id]/download-all/route.ts":["next/server","@/lib/db/queries","fs","path","jszip"],"app/api/samples/[id]/route.ts":["next/server","@/lib/db/queries"],"app/api/samples/route.ts":["next/server","@/lib/db/queries","@/lib/types/thermo-data"],"app/api/stats/route.ts":["next/server","@/lib/db/queries"],"app/datasets/[id]/page.tsx":["next","next/link","next/navigation","@/lib/db/queries","@/lib/db/connection","@/components/datasets/DownloadSection","@/components/ui/Breadcrumb"],"app/datasets/page.tsx":["next","@/lib/db/queries","@/lib/db/connection","@/components/datasets/DatasetCard"],"app/layout.tsx":["next/font/google","@/components/NavigationBar"],"app/page.tsx":["next/link","@/lib/db/queries"],"app/samples/[id]/page.tsx":["next/link","@/lib/db/queries","next/navigation"],"app/samples/page.tsx":["next/link","@/lib/db/queries"],"app/tables/page.tsx":["react","next","@tanstack/react-table","@/components/tables/InteractiveTable","@/components/tables/TableSelector"],"components/NavigationBar.tsx":["next/link","next/navigation"],"lib/db/connection.ts":["pg","dotenv","path"],"lib/db/queries.ts":["lib/db/connection.ts","@/lib/types/thermo-data"],"scripts/break-papers-into-sections.py":["os","re","pathlib","typing"],"scripts/break-terminology-docs.py":["os","re","pathlib","typing"],"scripts/db/import-thermo-data.ts":["dotenv","path","pg","fs","path"],"scripts/db/reset-database.ts":["pg","fs","path","readline"],"scripts/db/run-migration.ts":["pg","fs","path","dotenv"],"scripts/db/test-connection.ts":["dotenv","path","pg"]},"dir_purposes":{"app/api/tables/[name]":"API routes and endpoints","components":"Reusable UI components","readme/app/api/tables/[name]":"API routes and endpoints","readme/scripts":"Build and utility scripts","scripts/db":"Test files and test utilities","scripts":"Build and utility scripts","app/api/datasets/[id]/download-all":"API routes and endpoints","app/api/samples/[id]":"API routes and endpoints","app/api/samples":"API routes and endpoints","app/api/stats":"API routes and endpoints","lib/utils":"Shared utility functions and helpers","scripts/db/migrations":"Database migration files","scripts/migrations":"Database migration files"},"staleness":1762687177.566636}