{
  "meta": {
    "version": "2.1",
    "generated_at": "2025-11-21T16:29:07.162567",
    "schema": "Lean technical index - see readme/INDEX.md for context",
    "generator": "scripts/refactor-project-index.py"
  },
  "project": {
    "name": "AusGeochem Thermochronology Database",
    "schema_version": "2.1 (EarthBank camelCase)",
    "branch": "idea-014-earthbank-schema-migration",
    "status": "‚úÖ Migration complete (2025-11-18)"
  },
  "documentation": {
    "primary": "readme/INDEX.md",
    "note": "‚ö†Ô∏è READ readme/INDEX.md FIRST - Contains architecture, concepts, and workflows",
    "schema_changes": "readme/database/SCHEMA_CHANGES.md",
    "scripts_index": "readme/scripts/INDEX.md"
  },
  "critical_warnings": [
    "‚úÖ Production tables: earthbank_* (camelCase)",
    "‚ö†Ô∏è SQL requires double-quotes: SELECT \"sampleID\", \"centralAgeMa\"",
    "‚ö†Ô∏è Legacy snake_case tables are DEPRECATED",
    "üìñ See readme/INDEX.md for full context"
  ],
  "key_files": {
    "database": {
      "connection": "lib/db/connection.ts",
      "production_queries": "lib/db/earthbank-queries.ts (‚úÖ USE THIS)",
      "legacy_queries": "lib/db/queries.ts (DEPRECATED)"
    },
    "commands": {
      "thermoanalysis": ".claude/commands/thermoanalysis.md",
      "thermoextract": ".claude/commands/thermoextract.md"
    },
    "scripts": {
      "import": "scripts/db/import-earthbank-templates.ts",
      "psql_direct": "scripts/db/psql-direct.sh"
    }
  },
  "stats": {
    "generated": "2025-11-21T16:23:26.373579",
    "files": 206,
    "directories": 86,
    "languages": {
      "typescript": 89,
      "python": 56,
      "javascript": 5,
      "shell": 3
    },
    "database_records": 1238,
    "production_tables": 5
  },
  "tree": [
    ".",
    "‚îú‚îÄ‚îÄ app/ (30 files)",
    "‚îÇ   ‚îú‚îÄ‚îÄ api/ (14 files)",
    "‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analysis/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ages/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ datasets/ (4 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id]/ (3 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ download-all/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supplementary-files/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ table-counts/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ files/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ [id]/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extraction/ (5 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [sessionId]/ (4 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ extract/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ load/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ upload/ (1 files)",
    "‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ samples/ (2 files)",
    "‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/ (1 files)"
  ],
  "functions": {
    "app/api/analysis/ages/route.ts": [
      "t",
      [
        "GET:12:async (request:NextRequest)::"
      ]
    ],
    "app/api/datasets/[id]/download-all/route.ts": [
      "t",
      [
        "GET:9:async (_request:NextRequest, { params }:{ params:Promise<{ id:string }> })::"
      ]
    ],
    "app/api/datasets/[id]/supplementary-files/route.ts": [
      "t",
      [
        "GET:21:async (_request:NextRequest, { params }:{ params:{ id:string } })::"
      ]
    ],
    "app/api/datasets/[id]/table-counts/route.ts": [
      "t",
      [
        "GET:15:async (_request:NextRequest, { params }:{ params:Promise<{ id:string }> })::"
      ]
    ],
    "app/api/datasets/files/[id]/route.ts": [
      "t",
      [
        "GET:8:async (_request:NextRequest, { params }:{ params:Promise<{ id:string }> })::"
      ]
    ],
    "app/api/extraction/[sessionId]/analyze/route.ts": [
      "t",
      [
        "POST:42:async (_req:NextRequest, { params }:RouteParams)::",
        "generatePaperIndexMarkdown:243:(result:AnalysisResult, filename:string):string::",
        "generateTablesMarkdown:323:(tables:TableInfo[]):string::"
      ]
    ],
    "app/api/extraction/[sessionId]/extract/route.ts": [
      "t",
      [
        "extractTableAttempt:62:async (_sessionId:string, table:TableInfo, pdfText:string, pdfFilename:string, attemptNumber:number, previousError?:Error):Promise<::",
        "POST:363:async (req:NextRequest, { params }:RouteParams)::"
      ]
    ],
    "app/api/extraction/[sessionId]/load/route.ts": [
      "t",
      [
        "POST:42:async (_request:NextRequest, { params }:RouteParams)::",
        "parsePaperMetadata:467:(content:string, pdfFilename:string)::",
        "performFAIRAnalysis:573:async (metadata:any, files:any[])::",
        "generateExtractionReport:715:(metadata:any, files:any[], fairAssessment:any):string::"
      ]
    ],
    "app/api/extraction/[sessionId]/route.ts": [
      "t",
      [
        "GET:25:async (_req:NextRequest, { params }:RouteParams)::",
        "DELETE:64:async (_req:NextRequest, { params }:RouteParams)::"
      ]
    ],
    "app/api/extraction/upload/route.ts": [
      "t",
      [
        "POST:20:async (req:NextRequest)::"
      ]
    ],
    "app/api/samples/[id]/route.ts": [
      "t",
      [
        "GET:20:async (_request:NextRequest, { params }:{ params:{ id:string } })::"
      ]
    ],
    "app/api/samples/route.ts": [
      "t",
      [
        "GET:27:async (request:NextRequest)::"
      ]
    ],
    "app/api/stats/route.ts": [
      "t",
      [
        "GET:20:async (_request:NextRequest)::"
      ]
    ],
    "app/api/tables/[name]/route.ts": [
      "t",
      [
        "GET:56:async (request:NextRequest, { params }:{ params:Promise<{ name:string }> })::"
      ]
    ],
    "app/datasets/[id]/analysis/page.tsx": [
      "t",
      [
        "generateMetadata:14:async ({ params }:Props):Promise<Metadata>::",
        "DatasetAnalysisPage:31:async ({ params }:Props)::"
      ]
    ],
    "app/datasets/[id]/data/page.tsx": [
      "t",
      [
        "generateMetadata:20:async ({ params }:PageProps):Promise<Metadata>::",
        "DatasetDataPage:36:async ({ params }:PageProps)::"
      ]
    ],
    "app/datasets/[id]/fair/page.tsx": [
      "t",
      [
        "generateMetadata:21:async ({ params }:PageProps):Promise<Metadata>::",
        "DatasetFairPage:37:async ({ params }:PageProps)::"
      ]
    ],
    "app/datasets/[id]/not-found.tsx": [
      "t",
      [
        "DatasetNotFound:3:()::"
      ]
    ],
    "app/datasets/[id]/page.tsx": [
      "t",
      [
        "parsePostgresArray:27:(val:any):string[]::",
        "getDatasetStats:40:async (datasetID:string):Promise<DatasetStats>::",
        "generateMetadata:59:async ({ params }:PageProps):Promise<Metadata>::",
        "DatasetOverviewPage:75:async ({ params }:PageProps)::"
      ]
    ],
    "app/datasets/[id]/tables/page.tsx": [
      "t",
      [
        "DatasetTablesPage:11:async ({ params }:Props)::"
      ]
    ],
    "app/datasets/page.tsx": [
      "t",
      [
        "getDatasetStats:21:async ():Promise<Map<string, DatasetStats>>::",
        "PapersPage:52:async ():getDatasetStats:"
      ]
    ],
    "app/extraction/[sessionId]/analyze/page.tsx": [
      "t",
      [
        "AnalyzePage:28:({ params }:PageProps)::",
        "fetchSession:39:async ()::",
        "handleAnalyze:71:async ()::",
        "handleDiscard:100:async ()::"
      ]
    ],
    "app/extraction/[sessionId]/extract/page.tsx": [
      "t",
      [
        "ExtractPage:33:({ params }:PageProps)::",
        "fetchSession:45:async ()::",
        "handleExtractTable:78:async (table:TableInfo)::",
        "handleExtractAll:114:async ():handleExtractTable:"
      ]
    ],
    "app/extraction/[sessionId]/load/page.tsx": [
      "t",
      [
        "LoadPage:23:({ params }:PageProps)::",
        "fetchSession:33:async ():calculateGrade:",
        "calculateGrade:402:(score:number):string::",
        "getGradeColor:410:(grade:string):string::",
        "getScoreBarColor:421:(score:number):string::",
        "getScoreDescription:429:(score:number):string::",
        "handleLoad:65:async ()::"
      ]
    ],
    "app/layout.tsx": [
      "t",
      [
        "RootLayout:71:({ children, }:Readonly<{ children:React.ReactNode; }>)::"
      ]
    ],
    "app/page.tsx": [
      "t",
      [
        "HomePage:3:()::"
      ]
    ],
    "app/samples/[id]/page.tsx": [
      "t",
      [
        "SampleDetailPage:9:async ({ params, }:{ params:Promise<{ id:string }>; })::"
      ]
    ],
    "app/samples/page.tsx": [
      "t",
      [
        "SamplesPage:7:async ()::"
      ]
    ],
    "app/upload/page.tsx": [
      "t",
      [
        "UploadPage:6:()::",
        "handleDrag:13:(e:React.DragEvent)::",
        "handleDrop:23:(e:React.DragEvent)::",
        "handleFileChange:39:(e:React.ChangeEvent<HTMLInputElement>)::",
        "handleUpload:51:async ()::"
      ]
    ],
    "components/AgeBarChart.tsx": [
      "t",
      [
        "AgeBarChart:19:({ datasetId }:AgeBarChartProps)::"
      ]
    ],
    "components/NavigationBar.tsx": [
      "t",
      [
        "NavigationBar:6:():isActive:",
        "isActive:16:(href:string)::"
      ]
    ],
    "components/datasets/DatasetCard.tsx": [
      "t",
      [
        "DatasetCard:12:({ dataset, sampleCount = 0, aftGrainCount = 0, aheGrainCount = 0 }:DatasetCardProps)::",
        "parsePostgresArray:19:(val:any):string[]::"
      ]
    ],
    "components/datasets/DatasetTabs.tsx": [
      "t",
      [
        "DatasetTabs:17:({ datasetId, activeTab }:DatasetTabsProps)::"
      ]
    ],
    "components/datasets/DownloadSection.tsx": [
      "t",
      [
        "formatFileSize:8:(bytes:number | null):string::",
        "DownloadSection:24:({ files }:DownloadSectionProps):formatFileSize:"
      ]
    ],
    "components/datasets/FairScoreCard.tsx": [
      "t",
      [
        "FairScoreCard:8:({ fairScore, fairBreakdown }:FairScoreCardProps)::",
        "getScoreColor:9:(score:number, max:number)::",
        "getGradeColor:17:(grade:string | null)::"
      ]
    ],
    "components/datasets/SupplementaryFilesSection.tsx": [
      "t",
      [
        "SupplementaryFilesSection:25:({ datasetId, supplementaryFilesUrl }:SupplementaryFilesSectionProps)::",
        "fetchSupplementaryFiles:31:async ()::"
      ]
    ],
    "components/datasets/TablesView.tsx": [
      "t",
      [
        "TablesView:86:({ datasetId }:TablesViewProps):fetchTableAvailability:",
        "fetchTableAvailability:94:async ()::"
      ]
    ],
    "components/tables/ExportButton.tsx": [
      "t",
      [
        "ExportButton:11:({ data, filename, label = 'Export CSV' }:ExportButtonProps)::",
        "exportToCSV:12:()::"
      ]
    ],
    "components/tables/InteractiveTable.tsx": [
      "t",
      [
        "InteractiveTable:22:({ tableName, columns, datasetFilter = 'all' }:InteractiveTableProps)::",
        "fetchData:36:async ()::"
      ]
    ],
    "components/tables/TableSelector.tsx": [
      "t",
      [
        "TableSelector:62:({ selectedTable, onTableChange, tableAvailability, loading }:TableSelectorProps)::"
      ]
    ],
    "components/ui/Breadcrumb.tsx": [
      "t",
      [
        "Breadcrumb:13:({ items }:BreadcrumbProps)::"
      ]
    ],
    "components/ui/Tooltip.tsx": [
      "t",
      [
        "Tooltip:13:({ children, content, description, position = 'top', maxWidth = 'max-w-sm' }:TooltipProps)::"
      ]
    ],
    "lib/anthropic/client.ts": [
      "t",
      [
        "createMessage:21:async (systemPrompt:string, userMessage:string, options?:{ maxTokens?:number; temperature?:number; })::",
        "estimateTokens:85:(text:string):number::",
        "isAnthropicConfigured:92:():boolean::"
      ]
    ],
    "lib/anthropic/prompts.ts": [
      "t",
      [
        "createAnalysisUserMessage:69:(pdfText:string, filename:string):string::",
        "createExtractionUserMessage:149:(request:TableExtractionRequest):string::"
      ]
    ],
    "lib/constants/file-types.ts": [
      "t",
      [
        "getFileTypeFromExtension:55:(filename:string):FileType::"
      ]
    ],
    "lib/db/connection.ts": [
      "t",
      [
        "getPool:50:():Pool::",
        "query:108:async (text:string, params?:any[]):Promise<T[]>:getPool,query:",
        "queryOne:142:async (text:string, params?:any[]):Promise<T | null>::",
        "transaction:167:async (callback:(client:PoolClient):getPool,query:",
        "testConnection:194:async ():Promise<boolean>::",
        "closePool:212:async ():Promise<void>::",
        "getPoolStats:226:()::"
      ]
    ],
    "lib/db/earthbank-queries.ts": [
      "t",
      [
        "getAllSamples:37:async (filters?:EarthBankSampleFilters, limit:number = 50, offset:number = 0, sortBy:'sampleID' | 'elevationM' | 'mineralType' = 'sampleID', sortOrder:'asc' | 'desc' = 'asc'):Promise<EarthBankPaginatedResponse<EarthBankSample>>::",
        "getSampleById:100:async (sampleID:string):Promise<EarthBankSample | null>::",
        "getSampleDetail:108:async (sampleID:string):Promise<EarthBankSampleDetailResponse | null>:getFTDatapointsBySample,getHeDatapointsBySample,getSampleById:",
        "getFTDatapointsBySample:147:async (sampleID:string):Promise<EarthBankFTDatapoint[]>::",
        "getFTDatapointByName:155:async (datapointName:string):Promise<EarthBankFTDatapoint | null>::",
        "getFTDatapointsFiltered:163:async (filters?:EarthBankFTDataFilters, limit:number = 50, offset:number = 0):Promise<EarthBankPaginatedResponse<EarthBankFTDatapoint>>::",
        "getHeDatapointsBySample:236:async (sampleID:string):Promise<EarthBankHeDatapoint[]>::",
        "getHeDatapointByName:244:async (datapointName:string):Promise<EarthBankHeDatapoint | null>::",
        "getHeDatapointsFiltered:252:async (filters?:EarthBankHeDataFilters, limit:number = 50, offset:number = 0):Promise<EarthBankPaginatedResponse<EarthBankHeDatapoint>>::",
        "getFTTrackLengthDataBySample:305:async (sampleID:string):Promise<EarthBankFTTrackLengthData[]>::",
        "getHeWholeGrainDataBySample:323:async (sampleID:string):Promise<EarthBankHeWholeGrainData[]>::",
        "getDatasetStats:341:async ():Promise<EarthBankDatasetStats>::",
        "getSampleCountByMineral:382:async ():Promise<::",
        "getAgeDistribution:398:async (method:'FT' | 'He', binSizeMa:number = 50):Promise<::",
        "getAllDatasets:423:async ():Promise<EarthBankDataset[]>::",
        "getDatasetById:471:async (id:string):Promise<EarthBankDataset | null>::"
      ]
    ],
    "lib/db/extraction-queries.ts": [
      "t",
      [
        "createExtractionSession:16:async (sessionId:string, pdfFilename:string, pdfPath:string, pdfSizeBytes:number):Promise<ExtractionSession>::",
        "getExtractionSession:52:async (sessionId:string):Promise<ExtractionSession | null>::",
        "getExtractionSessionById:66:async (id:string):Promise<ExtractionSession | null>::",
        "updateExtractionState:80:async (sessionId:string, state:ExtractionState, currentStep?:number):Promise<void>::",
        "updatePaperMetadata:100:async (sessionId:string, metadata:PaperMetadata, tablesFound:number, dataTypes:string[]):Promise<void>::",
        "updateExtractionResults:129:async (sessionId:string, csvsExtracted:number, qualityScore:number, failedTables?:string[]):Promise<void>::",
        "updateLoadResults:158:async (sessionId:string, datasetId:number, fairScore:number, recordsImported:number):Promise<void>::",
        "markSessionFailed:187:async (sessionId:string, errorMessage:string, errorStage:'analyze' | 'extract' | 'load'):Promise<void>::",
        "deleteExtractionSession:208:async (sessionId:string):Promise<void>::",
        "getAllExtractionSessions:223:async (limit:number = 50):Promise<ExtractionSession[]>::",
        "getExtractionSessionsByState:238:async (state:ExtractionState, limit:number = 50):Promise<ExtractionSession[]>::",
        "countSessionsByState:255:async ():Promise<Record<ExtractionState, number>>::"
      ]
    ],
    "lib/db/fair-compliance.ts": [
      "t",
      [
        "loadFairCompliance:71:async (datasetName:string):Promise<FairComplianceData | null>::",
        "listFairCompliances:110:async ():Promise<string[]>::",
        "getGradeBadgeColor:192:(grade:string):string::"
      ],
      {
        "for": [
          "179",
          []
        ]
      }
    ],
    "lib/db/queries.ts": [
      "t",
      [
        "getAllSamples:53:async (filters?:SampleFilters, limit:number = 50, offset:number = 0, sortBy:'sample_id' | 'elevation_m' | 'mineral_type' = 'sample_id', sortOrder:'asc' | 'desc' = 'asc'):Promise<PaginatedResponse<Sample>>::",
        "getSampleSummaries:121:async (filters?:SampleFilters, limit:number = 50, offset:number = 0):Promise<PaginatedResponse<SampleSummary>>::",
        "getSampleById:163:async (sampleId:string):Promise<Sample | null>::",
        "getSampleDetail:174:async (sampleId:string):Promise<SampleDetailResponse | null>:getSampleById:",
        "getFTDatapointsBySample:213:async (sampleId:string):Promise<FTDatapoint[]>::",
        "getFTDatapointById:223:async (datapointId:number):Promise<FTDatapoint | null>::",
        "getFTCountDataByDatapoint:233:async (datapointId:number):Promise<FTCountData[]>::",
        "getFTSingleGrainAgesByDatapoint:243:async (datapointId:number):Promise<FTSingleGrainAge[]>::",
        "getFTTrackLengthDataByDatapoint:253:async (datapointId:number):Promise<FTTrackLengthData[]>::",
        "getAFTData:264:async (filters?:FTDataFilters, limit:number = 50, offset:number = 0):Promise<PaginatedResponse<AFTComplete>>::",
        "getHeDatapointsBySample:335:async (sampleId:string):Promise<HeDatapoint[]>::",
        "getHeDatapointById:345:async (datapointId:number):Promise<HeDatapoint | null>::",
        "getHeGrainDataByDatapoint:355:async (datapointId:number):Promise<HeWholeGrainData[]>::",
        "getAHeData:366:async (filters?:AHeDataFilters, limit:number = 100, offset:number = 0):Promise<PaginatedResponse<HeWholeGrainData>>::",
        "getAllBatches:432:async ():Promise<Batch[]>::",
        "getBatchById:439:async (batchId:number):Promise<Batch | null>::",
        "getReferenceMaterialsByBatch:446:async (batchId:number):Promise<ReferenceMaterial[]>::",
        "getAllPeople:460:async ():Promise<Person[]>::",
        "getPersonById:467:async (personId:number):Promise<Person | null>::",
        "getPersonByOrcid:474:async (orcid:string):Promise<Person | null>::",
        "getDatasetStats:485:async (datasetId:number = 1):Promise<DatasetStatsResponse>::",
        "searchSamplesByLocation:542:async (minLat:number, maxLat:number, minLon:number, maxLon:number):Promise<Sample[]>::",
        "getAllDatasets:566:async ():Promise<Dataset[]>::",
        "getDatasetById:590:async (id:number):Promise<Dataset | null>::",
        "getFairScoreBreakdown:614:async (datasetId:number):Promise<FairScoreBreakdown | null>::",
        "getDataFilesByDataset:630:async (datasetId:number):Promise<DataFile[]>::",
        "getDatasetTotalFileSize:643:async (datasetId:number):Promise<number>::",
        "getFTAgesBySample:666:async (sampleId:string):Promise<FTAges | null>::",
        "getFTLengthsBySample:708:async (sampleId:string):Promise<FTTrackLengths | null>::",
        "getFTCountsBySample:745:async (sampleId:string):Promise<FTCounts | null>::",
        "getAHeGrainsBySample:802:async (sampleId:string):Promise<AHeGrainData[]>::",
        "getSampleDetailV1:841:async (sampleId:string):Promise<SampleDetailResponseV1 | null>:getAHeGrainsBySample,getFTAgesBySample,getFTCountsBySample,getFTLengthsBySample,getSampleById:"
      ]
    ],
    "lib/extraction/csv-utils.ts": [
      "t",
      [
        "generateFieldMappingDescription:12:(mapping:TableMapping):string::",
        "parseCSV:49:(csvText:string):Array<Record<string, string>>:parseCSVLine:",
        "parseCSVLine:90:(line:string):string[]::",
        "validateCSV:141:(csvData:Array<Record<string, string>>, mapping:TableMapping):ValidationResult::",
        "arrayToCSV:212:(data:Array<Record<string, any>>):string:map:",
        "previewCSV:251:(csvData:Array<Record<string, string>>, maxRows:number = 5):::",
        "getCSVStats:269:(csvData:Array<Record<string, string>>):::"
      ]
    ],
    "lib/extraction/extract-with-retry.ts": [
      "t",
      [
        "retryWithBackoff:46:async (operation:(attemptNumber:number)::",
        "analyzeExtractionError:143:(error:Error):ErrorAnalysis::",
        "generateRetryPrompt:245:(originalPrompt:string, error:Error, attemptNumber:number):string:analyzeExtractionError:",
        "calculateRetryMetrics:305:(sessionId:string, tableNumber:number | string, result:RetryResult<T>):RetryMetrics:analyzeExtractionError:"
      ]
    ],
    "lib/extraction/field-mappings.ts": [
      "t",
      [
        "getFieldMapping:369:(dataType:string):TableMapping | null::",
        "findFieldByAlias:388:(mapping:TableMapping, columnName:string):FieldMapping | null::",
        "validateFieldValue:414:(field:FieldMapping, value:any):::"
      ]
    ],
    "lib/utils/cn.ts": [
      "t",
      [
        "cn:10:(...classes:ClassValue[]):string::"
      ]
    ],
    "lib/utils/extract-paper-title.ts": [
      "t",
      [
        "extractPaperTitle:12:(fullCitation:string | null | undefined):string | null::"
      ]
    ],
    "lib/utils/file-upload.ts": [
      "t",
      [
        "generateSessionId:34:():string::",
        "validatePDF:41:(file:File):::",
        "saveUploadedPDF:75:async (file:File, sessionId:string):Promise<UploadedFile>::",
        "deleteSessionFiles:105:async (sessionId:string):Promise<void>::",
        "sessionFilesExist:121:async (sessionId:string):Promise<boolean>::",
        "getSessionFilePath:135:(sessionId:string, filename:string = 'original.pdf'):string::",
        "getSessionDirectory:142:(sessionId:string):string::",
        "formatFileSize:149:(bytes:number):string::",
        "parseUploadedFile:163:async (formData:FormData):Promise<File | null>::"
      ]
    ],
    "lib/utils/logger.ts": [
      "t",
      [
        "logInfo:53:(message:string, context?:Record<string, any>)::",
        "logError:56:(message:string, error?:unknown, context?:Record<string, any>)::",
        "logWarn:59:(message:string, context?:Record<string, any>)::",
        "logDebug:62:(message:string, context?:Record<string, any>)::",
        "createErrorLogger:69:(context:Record<string, any> = {})::"
      ]
    ],
    "lib/utils/python-bridge.ts": [
      "t",
      [
        "executePythonScript:18:async (scriptPath:string, args:string[] = [], options?:{ cwd?:string; timeout?:number; // milliseconds }):Promise<PythonResult>::",
        "extractPDFText:76:async (pdfPath:string):Promise<string>:executePythonScript:",
        "extractPDFMetadata:130:async (pdfPath:string):Promise<::",
        "checkPyMuPDFInstalled:195:async ():Promise<boolean>:executePythonScript:"
      ]
    ],
    "s/analysis/analyze_thermo_paper.py": [
      "p",
      [
        "extract_plain_text:27:(pdf_path, output_dir)::Extract plain text from PDF for reusable analysis.",
        "discover_tables:58:(text_file)::Dynamically discover tables in PDF text using pattern matching.",
        "create_text_index:119:(text_dir, total_pages, discovered_tables)::Generate text index with discovered table metadata.",
        "extract_images:157:(pdf_path, output_dir)::Extract images and match with figure captions.",
        "create_image_metadata:245:(images_dir, pdf_name, dataset_name, extracted_images, figure_captions)::Generate image metadata JSON for database import.",
        "create_figures_md:284:(output_dir, figures_summary)::Generate human-readable figures markdown.",
        "extract_metadata_from_text:311:(text_file)::Extract key paper metadata from plain text.",
        "main:358:():create_figures_md,create_image_metadata,create_text_index,discover_tables,extract_images,extract_metadata_from_text,extract_plain_text:Main execution workflow."
      ]
    ],
    "s/analysis/spatial_plots.py": [
      "p",
      [
        "calculate_exhumation_rate:55:(elevation_m:np.ndarray, ages_ma:np.ndarray, closure_temp_c:float = 110.0, geothermal_gradient_c_per_km:float = 25.0)>Dict[str, float]::",
        "create_age_elevation_plot:101:(dataset_id:int, method:str = 'AFT', closure_temp:float = None, geothermal_gradient:float = 25.0, output_path:Optional[str] = None)>go.Figure:calculate_exhumation_rate:",
        "create_spatial_transect_plot:265:(dataset_id:int, methods:list = ['AFT'], axis:str = 'latitude', include_mtl:bool = True, output_path:Optional[str] = None)>go.Figure::",
        "create_mtl_trends_plot:397:(dataset_id:int, axis:str = 'latitude', output_path:Optional[str] = None)>go.Figure::",
        "main:504:():create_age_elevation_plot,create_mtl_trends_plot,create_spatial_transect_plot:Command-line interface for spatial analysis plots."
      ]
    ],
    "s/analysis/statistical_plots.py": [
      "p",
      [
        "calculate_radial_coordinates:56:(ages:np.ndarray, errors:np.ndarray, central_age:float)>Tuple[np.ndarray, np.ndarray]::",
        "create_radial_plot:81:(sample_id:str, method:str = 'AFT', output_path:Optional[str] = None, interactive:bool = True)>go.Figure:calculate_radial_coordinates:",
        "create_age_histogram:239:(sample_id:Optional[int] = None, dataset_id:Optional[int] = None, method:str = 'AFT', bins:int = 20, kde:bool = True, output_path:Optional[str] = None)>go.Figure::",
        "create_probability_density_plot:355:(sample_id:int, method:str = 'AFT', output_path:Optional[str] = None)>go.Figure::",
        "create_qa_plot:463:(dataset_id:Optional[int] = None, output_path:Optional[str] = None)>go.Figure::",
        "main:546:():create_age_histogram,create_probability_density_plot,create_qa_plot,create_radial_plot:Command-line interface for statistical plots."
      ]
    ],
    "s/analysis/utils/data_loaders.py": [
      "p",
      [
        "get_connection:32:()::",
        "query_to_dataframe:52:(query:str, params:tuple = None)>pd.DataFrame:get_connection:",
        "query_to_dict:70:(query:str, params:tuple = None)>List[Dict[str, Any]]:get_connection:",
        "load_sample_ages:97:(dataset_id:Optional[int] = None, method:str = 'AFT', include_location:bool = True)>pd.DataFrame:query_to_dataframe:",
        "load_ahe_sample_ages:145:(dataset_id:Optional[int] = None, aggregate_method:str = 'median')>pd.DataFrame:query_to_dataframe:",
        "load_ft_grain_ages:190:(sample_id:str)>pd.DataFrame:query_to_dataframe:",
        "load_ahe_grain_ages:225:(sample_id:str)>pd.DataFrame:query_to_dataframe:",
        "load_track_lengths:258:(sample_id:str)>pd.DataFrame:query_to_dataframe:",
        "load_spatial_transect:293:(dataset_id:int, methods:List[str] = ['AFT'], axis:str = 'latitude')>pd.DataFrame:query_to_dataframe:",
        "load_age_elevation:366:(dataset_id:int, method:str = 'AFT', min_elevation:Optional[float] = None, max_elevation:Optional[float] = None)>pd.DataFrame:query_to_dataframe:",
        "load_qa_statistics:427:(dataset_id:Optional[int] = None)>pd.DataFrame:query_to_dataframe:",
        "get_dataset_info:470:(dataset_id:int)>Dict[str, Any]:query_to_dict:",
        "get_sample_info:497:(sample_id:str)>Dict[str, Any]:query_to_dict:"
      ]
    ],
    "s/backfill-table-pdfs.py": [
      "p",
      [
        "create_combined_pdfs:57:()::Create combined PDF files from source PDF pages.",
        "create_table_index:137:(table_pdfs)::Create table-index.json linking all formats.",
        "create_tables_md:210:(table_pdfs)::Create tables.md with PDF download links.",
        "main:264:():create_combined_pdfs,create_table_index,create_tables_md:Main backfill process."
      ]
    ],
    "s/break-papers-into-sections.py": [
      "p",
      [
        "extract_sections:12:(content:str, paper_name:str)>List[Tuple[str, str, str]]::",
        "create_index_file:67:(sections:List[Tuple[str, str, str]], paper_title:str)>str::Create an index/README file for the paper sections.",
        "process_paper:83:(paper_path:str, output_base:str, paper_short_name:str, paper_title:str):create_index_file,extract_sections:Process a single paper and break it into sections.",
        "main:118:():process_paper:"
      ]
    ],
    "s/break-terminology-docs.py": [
      "p",
      [
        "extract_metadata_and_toc:12:(lines:List[str])>Tuple[List[str], int]::",
        "extract_sections:38:(content:str, doc_name:str)>List[Tuple[str, str, str]]:extract_metadata_and_toc:",
        "create_index_file:98:(sections:List[Tuple[str, str, str]], doc_title:str, original_path:str)>str::Create an index/README file for the document sections.",
        "process_document:124:(doc_path:str, output_base:str, folder_name:str, doc_title:str):create_index_file,extract_sections:Process a single document and break it into sections.",
        "main:159:():process_document:"
      ]
    ],
    "s/complete_malawi_extraction.py": [
      "p",
      [
        "parse_age_error:90:(age_str)::Parse age string like '245.3 ¬± 49.2' into (age, error)"
      ]
    ],
    "s/db/backdate-fair-compliance.ts": [
      "t",
      [
        "parsePaperIndex:53:(indexPath:string):Partial<FairCompliance['paper']>::",
        "parseExtractionReport:98:(reportPath:string):Partial<FairCompliance['summary']> &::",
        "calculateGrade:155:(percentage:number):string::",
        "generateFairCompliance:167:(paperDir:string):FairCompliance | null:calculateGrade,parseExtractionReport,parsePaperIndex:",
        "main:245:async ():generateFairCompliance:"
      ]
    ],
    "s/db/check-datasets-columns.ts": [
      "t",
      [
        "main:3:async ()::"
      ]
    ],
    "s/db/check-neon-data.ts": [
      "t",
      [
        "main:3:async ()::"
      ]
    ],
    "s/db/clean-he-csv-data-v2.ts": [
      "t",
      [
        "parseCSVLine:17:(line:string):string[]::",
        "escapeCSVField:39:(field:string):string::"
      ]
    ],
    "s/db/clear-database.ts": [
      "t",
      [
        "clearDatabase:12:async ()::"
      ]
    ],
    "s/db/examine-earthbank-templates.ts": [
      "t",
      [
        "examineTemplate:35:async (filename:string):Promise<TemplateInfo>:forEach:",
        "main:90:async ():examineTemplate,forEach:"
      ]
    ],
    "s/db/export-schema.ts": [
      "t",
      [
        "exportSchema:12:async ()::"
      ]
    ],
    "s/db/extract-csv-schema.py": [
      "p",
      [
        "get_csv_headers:11:(csv_path)::Read CSV and return header row."
      ]
    ],
    "s/db/extract-earthbank-schema.py": [
      "p",
      [
        "extract_schema_from_template:11:(filepath:Path)::Extract database schema from Field Definitions sheets.",
        "main:54:():extract_schema_from_template:"
      ]
    ],
    "s/db/import-csvs.sh": [
      "s",
      [
        "import_csv:0:()::Function to import CSV"
      ]
    ],
    "s/db/import-earthbank-csvs.sh": [
      "s",
      [
        "import_csv:0:()::Function to import CSV with psql"
      ]
    ],
    "s/db/import-earthbank-templates.ts": [
      "t",
      [
        "readExcelSheet:87:async (filePath:string, sheetName:string):Promise<any[]>::",
        "getSheetNames:126:async (filePath:string):Promise<string[]>::",
        "insertSample:136:async (client:PoolClient, row:any, datasetId:number):Promise<void>::",
        "insertFTDatapoint:197:async (client:PoolClient, row:any):Promise<number>::",
        "insertFTCountData:344:async (client:PoolClient, datapointId:number, row:any):Promise<void>:get:",
        "importSamples:394:async (options:ImportOptions):Promise<ImportStats>:insertSample,readExcelSheet:",
        "importFTData:454:async (options:ImportOptions):Promise<ImportStats>:get,insertFTCountData,insertFTDatapoint,readExcelSheet:",
        "importHeData:553:async (options:ImportOptions):Promise<ImportStats>::",
        "main:573:async ():importFTData,importHeData,importSamples:",
        "get:359:(keys:string | string[])::"
      ]
    ],
    "s/db/import-sql.sh": [
      "s",
      [
        "NOW:0:()::"
      ]
    ],
    "s/db/import-thermo-data.ts": [
      "t",
      [
        "log:76:(message:string, type:'info' | 'success' | 'error' | 'warn' = 'info'):log:",
        "parseCSV:97:(content:string):Record<string, string>[]:parseLine:",
        "parseLine:101:(line:string):string[]::",
        "toSQLValue:141:(value:string | null):any::",
        "importSamples:155:async (client:PoolClient):log,parseCSV,toSQLValue:",
        "importFTCounts:223:async (client:PoolClient):log,parseCSV,toSQLValue:",
        "importFTTrackLengths:307:async (client:PoolClient):log,parseCSV,toSQLValue:",
        "importFTAges:356:async (client:PoolClient):log,parseArray,parseCSV,toSQLValue:",
        "importAHeGrainData:425:async (client:PoolClient):log,parseCSV,toSQLValue:",
        "main:482:async ():importAHeGrainData,importFTAges,importFTCounts,importFTTrackLengths,importSamples,log:",
        "parseArray:366:(val:string | null):string | null::"
      ]
    ],
    "s/db/load-dataset-from-paper.ts": [
      "t",
      [
        "main:48:async ()::",
        "parseMetadata:226:(indexContent:string, dirName:string):ParsedMetadata::",
        "createDatasetRecord:336:async (metadata:ParsedMetadata):Promise<number>::",
        "uploadFiles:382:async (paperPath:string, extractedDir:string, datasetId:number):Promise<UploadedFile[]>::",
        "trackFilesInDatabase:509:async (uploadedFiles:UploadedFile[], datasetId:number):Promise<void>::",
        "performFairAnalysis:538:async (uploadedFiles:UploadedFile[], metadata:ParsedMetadata, datasetId:number):Promise<any>::",
        "generateFairReport:667:async (fairData:any, metadata:ParsedMetadata, uploadedFiles:UploadedFile[], totalSize:number, reportPath:string):Promise<void>::",
        "updateFairScores:718:async (datasetId:number, fairData:any):Promise<void>::"
      ]
    ],
    "s/db/migrate-v1-to-v2.ts": [
      "t",
      [
        "migrateFTAges:70:async ():Promise<Map<string, number>>::",
        "migrateFTCounts:142:async (sampleToDatapointId:Map<string, number>):Promise<void>::",
        "migrateFTTrackLengths:206:async (sampleToDatapointId:Map<string, number>):Promise<void>::",
        "validateMigration:262:async ():Promise<void>::",
        "main:300:async ():migrateFTAges,migrateFTCounts,migrateFTTrackLengths,validateMigration:"
      ]
    ],
    "s/db/populate-dataset-authors.ts": [
      "t",
      [
        "extractAuthorsFromCitation:31:(citation:string):string[]::",
        "parsePostgresArray:78:(val:any):string[]::",
        "getOrCreatePerson:95:async (name:string, client:PoolClient):Promise<number>::",
        "main:115:async ():extractAuthorsFromCitation,getOrCreatePerson,parsePostgresArray:"
      ]
    ],
    "s/db/populate-malawi-files.ts": [
      "t",
      [
        "getFileSize:24:(filePath:string):number | null::",
        "getFilesFromDirectory:34:(dirPath:string, fileType:string):FileInfo[]:getFileSize:",
        "populateDataFiles:62:async ():getFileSize,getFilesFromDirectory:"
      ]
    ],
    "s/db/read-earthbank-templates.py": [
      "p",
      [
        "read_template:11:(filepath:Path)::Read an Excel template and print all sheets with their columns.",
        "main:41:():read_template:"
      ]
    ],
    "s/db/reset-database.ts": [
      "t",
      [
        "askQuestion:42:(query:string):Promise<string>::",
        "resetDatabase:58:async ():askQuestion:"
      ]
    ],
    "s/db/run-migration.ts": [
      "t",
      [
        "runMigration:53:async ()::"
      ]
    ],
    "s/db/test-connection.ts": [
      "t",
      [
        "testConnection:38:async ()::"
      ]
    ],
    "s/db/test-earthbank-queries.ts": [
      "t",
      [
        "runTests:25:async ()::"
      ]
    ],
    "s/db/transform-and-import-malawi.ts": [
      "t",
      [
        "main:76:async ()::",
        "parseNum:128:(val:any):number | null::"
      ]
    ],
    "s/db/transform-fair-csv-headers.ts": [
      "t",
      [
        "transformCSVHeaders:239:(inputPath:string, outputPath:string):void::"
      ]
    ],
    "s/db/update-malawi-metadata.ts": [
      "t",
      [
        "main:8:async ()::"
      ]
    ],
    "s/db/validate-import.py": [
      "p",
      [
        "validate_import_directory:172:(data_dir:Path)>bool:close,validate_csv:"
      ],
      {
        "ImportValidator": [
          "23",
          [
            "__init__:26:(self, db_url:str)::",
            "close:33:(self):close:",
            "get_table_schema:37:(self, table_name:str)>Dict[str, Dict]::Get table schema from database",
            "validate_dataframe:62:(self, df:pd.DataFrame, table_name:str)>Tuple[bool, List[str], List[str]]:get_table_schema:",
            "validate_csv:156:(self, csv_path:Path, table_name:str)>Tuple[bool, List[str], List[str]]:validate_dataframe:Validate CSV file"
          ]
        ]
      }
    ],
    "s/debug-page10.py": [
      "p",
      [
        "debug_page:10:(pdf, page_num)::Debug specific page"
      ]
    ],
    "s/examine-pdf-page.py": [
      "p",
      [
        "examine_page:10:(pdf, page_num)::Examine a specific page",
        "main:55:():examine_page:Main"
      ]
    ],
    "s/extract-all-tables.py": [
      "p",
      [
        "clean_cell:15:(cell)::Clean cell content",
        "parse_multi_row_cell:23:(cell_value)::Split cells containing multiple rows",
        "get_page_text:30:(page)::Get cleaned text from page",
        "extract_table_1_fission_track:35:(pdf):clean_cell,get_page_text,parse_multi_row_cell:Extract Table 1 - Fission Track (Page 9)",
        "extract_table_2_uthhe:88:(pdf):clean_cell,get_page_text,parse_multi_row_cell:Extract Table 2 - (U-Th)/He (Pages 10-11 main data)",
        "save_to_csv:181:(data, filename, output_dir)::Save to CSV",
        "validate_extraction:195:(filepath, expected_desc)::Validate extracted data",
        "main:216:():extract_table_1_fission_track,extract_table_2_uthhe,save_to_csv,validate_extraction:Main execution"
      ]
    ],
    "s/extract-figure-captions.ts": [
      "t",
      [
        "extractCaptions:50:(plainTextPath:string):FigureCaption[]::",
        "extractTableCaptions:107:(plainTextPath:string):TableCaption[]::",
        "matchCaptionsToImages:163:(images:ImageMetadata[], captions:FigureCaption[]):ImageMetadata[]::",
        "main:226:()::"
      ]
    ],
    "s/extract-from-text.py": [
      "p",
      [
        "extract_table2_from_text:15:(pdf)::Extract Table 2 (U-Th-He) by parsing text directly",
        "extract_table1_from_text:61:(pdf)::Extract Table 1 (Fission Track) by parsing text",
        "save_csv:97:(data, filename)::Save data to CSV",
        "show_summary:108:(filepath)::Show summary of extracted file",
        "main:122:():extract_table1_from_text,extract_table2_from_text,save_csv,show_summary:Main execution"
      ]
    ],
    "s/extract-tables-final.py": [
      "p",
      [
        "clean_cell:15:(cell)::Clean cell content",
        "parse_multi_row_cell:25:(cell_value)::Split cells that contain multiple rows of data",
        "extract_fission_track_table:33:(pdf):clean_cell,parse_multi_row_cell:Extract Table 1 - Fission Track data from page 9",
        "extract_uthe_table:93:(pdf):clean_cell,parse_multi_row_cell:Extract Table 2 - (U-Th)/He data from pages 10-11",
        "save_to_csv:152:(data, filename, output_dir)::Save data to CSV",
        "show_sample:167:(filepath, num_rows=3)::Display sample of CSV file",
        "main:184:():extract_fission_track_table,extract_uthe_table,save_to_csv,show_sample:Main execution"
      ]
    ],
    "s/extract-tables-mcmillan.py": [
      "p",
      [
        "clean_cell:24:(cell)::Clean cell content",
        "is_table_header:30:(row, keywords):clean_cell:Check if row contains table header keywords",
        "identify_table:38:(table_data, page_num):clean_cell:Identify which table this is based on content",
        "extract_tables_from_pdf:56:(pdf_path):clean_cell,identify_table:Extract all tables from PDF using pdfplumber",
        "save_table_to_csv:110:(table_data, table_id, config, output_dir):clean_cell:Save table data to CSV file",
        "main:143:():extract_tables_from_pdf,save_table_to_csv:Main execution"
      ]
    ],
    "s/extract-tables-v2.py": [
      "p",
      [
        "clean_cell:14:(cell)::Clean cell content",
        "extract_tables_with_context:20:(pdf_path):clean_cell:Extract tables with page context",
        "merge_table_parts:86:(extracted):clean_cell:Merge multi-page table parts",
        "save_to_csv:111:(table_info, output_dir):clean_cell:Save table to CSV",
        "main:133:():extract_tables_with_context,merge_table_parts,save_to_csv:Main execution"
      ]
    ],
    "s/extract_and_save_mcmillan.py": [
      "p",
      [
        "extract_and_save:17:()::Extract tables and save to paper directory"
      ]
    ],
    "s/extract_pdf_pages.py": [
      "p",
      [
        "extract_pages:11:(input_pdf:str, output_pdf:str, pages:list[int])>None::"
      ]
    ],
    "s/extract_peak_2021_improved.py": [
      "p",
      [
        "extract_tables:10:()::Extract Table S1 and S2 with proper header detection"
      ]
    ],
    "s/extract_peak_2021_tables.py": [
      "p",
      [
        "extract_tables:10:()::Extract Table S1 and S2 from Peak et al. Excel file"
      ]
    ],
    "s/generate-data-commands.ts": [
      "t",
      [
        "loadConfig:91:():::",
        "buildSubstitutionMap:114:(config:ProjectConfig, mappings:FieldMappings):Record<string, string>::",
        "buildArraySubstitutions:218:(config:ProjectConfig):Record<string, any[]>::",
        "substituteTemplate:289:(template:string, map:Record<string, string>, arrays:Record<string, any[]>):string:RegExp:",
        "generateCommand:321:(templatePath:string, outputPath:string, map:Record<string, string>, arrays:Record<string, any[]>):void:substituteTemplate:",
        "main:359:():buildArraySubstitutions,buildSubstitutionMap,generateCommand,loadConfig:"
      ]
    ],
    "s/generate-schema-snapshot.ts": [
      "t",
      [
        "generateSchemaSnapshot:3:async ():map:"
      ],
      {
        "AND": [
          "48",
          []
        ]
      }
    ],
    "s/import-mcmillan-2024-complete.ts": [
      "t",
      [
        "readCSV:21:(filename:string):CSVRow[]::",
        "importMcMillan2024:29:async ()::"
      ]
    ],
    "s/import-mcmillan-2024.ts": [
      "t",
      [
        "readCSV:83:(filename:string):T[]::",
        "importDataset:95:async ()::"
      ]
    ],
    "s/import_earthbank_templates.py": [
      "p",
      [
        "main:623:():close,connect,get_or_create_dataset,import_ft_template,import_he_template,import_sample_template:Main CLI"
      ],
      {
        "EarthBankImporter": [
          "284",
          [
            "__init__:287:(self, db_url:str = DIRECT_URL)::",
            "connect:292:(self):connect:Connect to database",
            "close:301:(self):close:Close database connection",
            "get_or_create_dataset:306:(self, name:str, description:str = None)>int::Get existing dataset or create new one",
            "import_sample_template:332:(self, file_path:Path)::Import Sample template",
            "import_ft_template:389:(self, file_path:Path):_import_ft_binned_length_data,_import_ft_count_data,_import_ft_datapoints,_import_ft_length_data,_import_ft_single_grain:Import FT Datapoint template",
            "_import_ft_datapoints:423:(self, xls:pd.ExcelFile)::Import FT Datapoints sheet",
            "_import_ft_count_data:469:(self, xls:pd.ExcelFile)::Import FTCountData sheet",
            "_import_ft_single_grain:504:(self, xls:pd.ExcelFile)::Import FTSingleGrain sheet",
            "_import_ft_length_data:508:(self, xls:pd.ExcelFile)::Import FTLengthData sheet",
            "_import_ft_binned_length_data:512:(self, xls:pd.ExcelFile)::Import FTBinnedLengthData sheet",
            "import_he_template:516:(self, file_path:Path):_import_he_datapoints,_import_he_whole_grain:Import He Datapoint template",
            "_import_he_datapoints:538:(self, xls:pd.ExcelFile)::Import He Datapoints sheet",
            "_import_he_whole_grain:582:(self, xls:pd.ExcelFile)::Import HeWholeGrain sheet"
          ]
        ]
      }
    ],
    "s/import_malawi_data.py": [
      "p",
      [
        "connect_db:23:()::Connect to PostgreSQL database",
        "create_dataset:34:(conn)>int::Create dataset record",
        "create_batches:73:(conn)>dict::Create batch records for analytical sessions",
        "create_reference_materials:115:(conn, batch_ids:dict)::Create reference material records (Durango)",
        "create_samples:166:(conn, dataset_id:int)>dict::Create sample records",
        "import_ft_datapoints:214:(conn, sample_ids:dict)::Import fission-track datapoints",
        "import_he_data:296:(conn, sample_ids:dict, batch_ids:dict)::Import (U-Th)/He grain data",
        "verify_import:407:(conn)::Verify data was imported correctly",
        "main:438:():connect_db,create_batches,create_dataset,create_reference_materials,create_samples,import_ft_datapoints,import_he_data,verify_import:Main import workflow"
      ]
    ],
    "s/import_peak_2021.py": [
      "p",
      [
        "import_peak_2021:25:()::Import Peak et al. (2021) data into database"
      ]
    ],
    "s/inspect-earthbank-mappings.js": [
      "j",
      [
        "inspectMappings:14:async ()::"
      ]
    ],
    "s/inspect-pdf-tables.py": [
      "p",
      [
        "inspect_page:11:(page, page_num)::Inspect a single page for table content",
        "main:50:():inspect_page:Main inspection"
      ]
    ],
    "s/malawi_data_analysis.py": [
      "p",
      [
        "load_data:121:()>Dict[str, pd.DataFrame]::Load all data files",
        "check_kohn_2024_compliance:139:(data:Dict[str, pd.DataFrame])>Dict::Check data against Kohn et al. (2024) required fields",
        "calculate_fair_scores:265:(data:Dict[str, pd.DataFrame], compliance:Dict)>Dict::Calculate FAIR completeness scores",
        "transform_to_earthbank:339:(data:Dict[str, pd.DataFrame])>Dict[str, pd.DataFrame]::Transform data to EarthBank template format",
        "generate_report:409:(data:Dict[str, pd.DataFrame], compliance:Dict, fair_scores:Dict, earthbank_data:Dict[str, pd.DataFrame])>str::Generate extraction quality report",
        "export_for_import:517:(earthbank_data:Dict[str, pd.DataFrame])::Export data in format ready for database import",
        "main:546:():calculate_fair_scores,check_kohn_2024_compliance,export_for_import,generate_report,load_data,transform_to_earthbank:Main execution"
      ]
    ],
    "s/pdf/cache.py": [
      "p",
      {
        "PDFCache": [
          "19",
          [
            "__init__:35:(self, cache_dir:str = './cache')::",
            "get_cache_key:46:(self, pdf_path:str, step:str)>str::",
            "get:63:(self, pdf_path:str, step:str)>Optional[Any]:get_cache_key:",
            "set:89:(self, pdf_path:str, step:str, data:Any)>None:get_cache_key:",
            "clear:107:(self, pdf_path:Optional[str] = None)>None::"
          ]
        ]
      }
    ],
    "s/pdf/cleaners.py": [
      "p",
      [
        "clean_extracted_table:27:(df:pd.DataFrame, table_type:str)>pd.DataFrame:_clean_cell_values,_convert_numeric_columns,_fix_wrapped_cells,_merge_split_rows,_normalize_column_name,_remove_continued_rows,_remove_empty_rows_cols,_remove_footer_rows,_remove_header_rows:",
        "_remove_header_rows:69:(df:pd.DataFrame)>pd.DataFrame::",
        "_remove_footer_rows:104:(df:pd.DataFrame)>pd.DataFrame::",
        "_remove_continued_rows:138:(df:pd.DataFrame)>pd.DataFrame::",
        "_merge_split_rows:152:(df:pd.DataFrame, table_type:str)>pd.DataFrame::",
        "_fix_wrapped_cells:212:(df:pd.DataFrame)>pd.DataFrame::",
        "_normalize_column_name:224:(col:str)>str::",
        "_clean_cell_values:275:(df:pd.DataFrame)>pd.DataFrame::",
        "_convert_numeric_columns:303:(df:pd.DataFrame, table_type:str)>pd.DataFrame::",
        "_remove_empty_rows_cols:337:(df:pd.DataFrame)>pd.DataFrame::",
        "clean_sample_id:359:(sample_id:str)>str::",
        "split_value_error:391:(value_str:str)>tuple::"
      ]
    ],
    "s/pdf/extract-table-pdfs.py": [
      "p",
      [
        "extract_table_pdfs:12:(paper_dir:Path)::"
      ]
    ],
    "s/pdf/extract_malawi_rift.py": [
      "p",
      [
        "main:18:(pdf_path:str):parse_age_error:Execute complete extraction workflow"
      ]
    ],
    "s/pdf/extraction_engine.py": [
      "p",
      [
        "extract_from_pdf:564:(pdf_path:str, cache_dir:str = './cache')>Dict:analyze,extract_all,transform_to_fair,validate:"
      ],
      {
        "UniversalThermoExtractor": [
          "57",
          [
            "__init__:75:(self, pdf_path:str, cache_dir:str = './cache', paper_dir:Optional[Path] = None)::",
            "analyze:97:(self)>'UniversalThermoExtractor':_analyze_pdf_directly,_load_from_thermoanalysis:",
            "_analyze_pdf_directly:136:(self):_extract_metadata,_get_full_text,analyze:",
            "_load_from_thermoanalysis:163:(self):_extract_metadata,_load_metadata_from_index:",
            "_load_metadata_from_index:243:(self, index_path:Path)>Dict::Load paper metadata from paper-index.md",
            "extract_all:271:(self)>Dict[str, pd.DataFrame]:_extract_table_with_progressive_fallback,analyze:",
            "transform_to_fair:332:(self)>Dict[str, pd.DataFrame]:extract_all:",
            "validate:373:(self, data:Optional[Dict[str, pd.DataFrame]] = None)>Dict:validate:",
            "_extract_table_with_progressive_fallback:433:(self, page:int, bbox:Tuple[float, float, float, float], table_type:str, quality_threshold:float = 0.6)>Optional[pd.DataFrame]::",
            "_extract_metadata:523:(self)>Dict::Extract paper metadata from PDF",
            "_get_full_text:554:(self)>str::Extract full text from PDF"
          ]
        ]
      }
    ],
    "s/pdf/extraction_validator.py": [
      "p",
      [
        "validate_extraction_batch:502:(tables:Dict[str, Dict[str, Dict]])>Tuple[Dict[str, pd.DataFrame], List[Dict]]:validate_and_merge:"
      ],
      {
        "ExtractionValidator": [
          "27",
          [
            "__init__:32:(self)::",
            "validate_and_merge:39:(self, table_id:str, extractions:Dict[str, Dict[str, Any]])>Tuple[pd.DataFrame, Dict]:_detect_discrepancies,_reconcile_discrepancies:",
            "_detect_discrepancies:111:(self, table_id:str, extractions:Dict[str, Dict])>List[Dict]:_compare_cell_values:",
            "_compare_cell_values:171:(self, dfs:List[pd.DataFrame], methods:List[str])>List[Dict]:_numeric_difference,_values_equivalent:",
            "_values_equivalent:212:(self, val1:Any, val2:Any, tolerance:float = 0.01)>bool::",
            "_numeric_difference:254:(self, val1:Any, val2:Any)>Optional[float]::Calculate numeric difference if both values are numeric",
            "_reconcile_discrepancies:266:(self, table_id:str, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]:_resolve_cell_value_discrepancy,_resolve_column_discrepancy,_resolve_row_count_discrepancy:",
            "_resolve_row_count_discrepancy:306:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::",
            "_resolve_column_discrepancy:367:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::",
            "_resolve_cell_value_discrepancy:426:(self, extractions:Dict[str, Dict], discrepancies:List[Dict])>Tuple[pd.DataFrame, Dict]::"
          ]
        ]
      }
    ],
    "s/pdf/fair_transformer.py": [
      "p",
      {
        "FAIRTransformer": [
          "32",
          [
            "__init__:35:(self)::Initialize transformer",
            "transform:43:(self, extracted_tables:Dict[str, pd.DataFrame], metadata:Dict)>Dict[str, pd.DataFrame]:_create_ahe_table,_create_ft_ages_table,_create_ft_counts_table,_create_samples_table,_create_track_lengths_table,_find_tables_by_type:",
            "_find_tables_by_type:105:(self, tables:Dict[str, pd.DataFrame], table_type:str)>List[pd.DataFrame]:_is_table_type:Find all tables of a specific type",
            "_is_table_type:116:(self, df:pd.DataFrame, table_type:str)>bool::Check if DataFrame is of a specific type",
            "_create_samples_table:134:(self, extracted_tables:Dict[str, pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id,_generate_igsn,_is_table_type:",
            "_create_ft_ages_table:179:(self, aft_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:",
            "_create_ft_counts_table:220:(self, count_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:",
            "_create_track_lengths_table:278:(self, length_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:",
            "_create_ahe_table:315:(self, ahe_tables:List[pd.DataFrame], metadata:Dict)>pd.DataFrame:_extract_field,_extract_sample_id:",
            "_extract_sample_id:362:(self, row:pd.Series)>Optional[str]::Extract sample ID from row",
            "_extract_field:373:(self, row:pd.Series, field_names:List[str])>Optional[float]::",
            "_generate_igsn:400:(self, sample_id:str, metadata:Dict)>str::",
            "_generate_grain_ids:409:(self, sample_id:str, n_grains:int)>List[str]::Generate unique grain IDs for traceability",
            "_generate_sample_mount_id:413:(self, sample_id:str, mount_date:datetime)>str::Generate sample mount ID"
          ]
        ]
      }
    ],
    "s/pdf/methods_parser.py": [
      "p",
      {
        "MethodsParser": [
          "24",
          [
            "__init__:27:(self)::Initialize parser with pattern libraries",
            "parse_methods:74:(self, full_text:str)>Dict:_extract_algorithm,_extract_analyst,_extract_counting_method,_extract_dosimeter,_extract_etching,_extract_laboratory,_extract_microscope,_extract_objective,_extract_software,_extract_zeta,_find_methods_section:",
            "_find_methods_section:122:(self, text:str)>Optional[str]::",
            "_extract_analyst:161:(self, text:str)>Optional[str]::Extract analyst name",
            "_extract_laboratory:169:(self, text:str)>Optional[str]::Extract laboratory name",
            "_extract_microscope:177:(self, text:str)>Optional[str]::Extract microscope type",
            "_extract_objective:188:(self, text:str)>Optional[str]::Extract objective magnification",
            "_extract_etching:202:(self, text:str)>Optional[str]::Extract etching conditions",
            "_extract_dosimeter:227:(self, text:str)>Optional[str]::Extract dosimeter glass type",
            "_extract_software:235:(self, text:str)>Optional[str]::Extract software used",
            "_extract_counting_method:243:(self, text:str)>Optional[str]::Extract FT counting method",
            "_extract_algorithm:253:(self, text:str)>Optional[str]::Extract FT age calculation algorithm",
            "_extract_zeta:263:(self, text:str)>Optional[Dict]::",
            "extract_mineral_type:281:(self, text:str)>Optional[str]::Extract mineral type (apatite, zircon)",
            "extract_reactor:291:(self, text:str)>Optional[str]::Extract irradiation reactor"
          ]
        ]
      }
    ],
    "s/pdf/multi_method_extraction.py": [
      "p",
      [
        "extract_table_from_plain_text:41:(text_file:Path, table_name:str, page_estimate:int)>Optional[pd.DataFrame]:find_table_boundaries:",
        "find_table_boundaries:106:(text_content:str, table_name:str, page_estimate:int)>Tuple[int, int]::",
        "read_discovered_tables:163:(paper_dir:Path)>List[Dict]::",
        "extract_table_all_methods:225:(table_info:Dict, pdf_path:Path, text_file:Optional[Path] = None)>Dict[str, Optional[pd.DataFrame]]::",
        "score_extraction_results:335:(results:Dict[str, Optional[pd.DataFrame]], table_type:str)>Dict[str, float]::",
        "select_best_method:361:(results:Dict[str, Optional[pd.DataFrame]], scores:Dict[str, float])>Tuple[str, Optional[pd.DataFrame], float]::",
        "save_extraction_results:389:(table_info:Dict, results:Dict[str, Optional[pd.DataFrame]], scores:Dict[str, float], best_method:str, output_dir:Path)>None::",
        "generate_comparison_report:436:(all_table_results:List[Dict], output_dir:Path)>None::",
        "extract_all_tables_multi_method:521:(paper_dir:Path, pdf_path:Path, output_dir:Path)>List[Dict]:extract_table_all_methods,generate_comparison_report,read_discovered_tables,save_extraction_results,score_extraction_results,select_best_method:"
      ]
    ],
    "s/pdf/semantic_analysis.py": [
      "p",
      {
        "DocumentStructure": [
          "25",
          [
            "__init__:28:(self, pdf_path:str)::",
            "build_reference_map:40:(self)>Dict:_extract_table_captions,_find_table_bbox,classify_table_from_caption:",
            "_extract_table_captions:92:(self)>List[Dict]:_find_text_bbox:",
            "_find_text_bbox:138:(self, page, text_snippet:str, fuzzy:bool = True)>Optional[Tuple]::",
            "_find_table_bbox:185:(self, page_num:int, caption_bbox:Optional[Tuple])>Tuple::",
            "classify_table_from_caption:235:(self, caption:str)>str::",
            "classify_table:275:(self, table_content:str, caption:str)>str:classify_table_from_caption:",
            "resolve_reference:313:(self, ref_text:str)>Optional[Dict]::",
            "get_table_info:330:(self, table_id:str)>Optional[Dict]::Get table information by ID",
            "get_tables_by_type:334:(self, table_type:str)>List[str]::",
            "__del__:350:(self)::Close PDF on cleanup"
          ]
        ]
      }
    ],
    "s/pdf/table_extractors.py": [
      "p",
      [
        "_cluster_x_coordinates:33:(text_items:List[Dict], tolerance:float = 15.0)>List[float]::",
        "_assign_to_column:72:(x_coord:float, column_positions:List[float], tolerance:float = 20.0)>int::",
        "extract_table_from_text:104:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_assign_to_column,_cluster_x_coordinates:",
        "_get_page_height:313:(pdf_path:str, page:int)>float::",
        "extract_with_camelot_lattice:338:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_get_page_height:",
        "extract_with_camelot_stream:387:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]:_get_page_height:",
        "extract_with_pdfplumber:433:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str = None)>Optional[pd.DataFrame]::",
        "get_expected_row_range:472:(table_type:str)>Dict[str, int]::",
        "get_expected_col_range:492:(table_type:str)>Dict[str, int]::",
        "get_validation_keywords:512:(table_type:str)>List[str]::",
        "evaluate_extraction_quality:532:(df:pd.DataFrame, table_type:str = None)>float:get_expected_col_range,get_expected_row_range,get_validation_keywords:",
        "extract_table_with_voting:661:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str)>Optional[pd.DataFrame]:evaluate_extraction_quality:",
        "extract_by_type:719:(pdf_path:str, page:int, bbox:Tuple[float, float, float, float], table_type:str)>Optional[pd.DataFrame]:evaluate_extraction_quality,extract_table_with_voting:"
      ]
    ],
    "s/pdf/validators.py": [
      "p",
      [
        "validate_by_type:25:(df:pd.DataFrame, table_type:str)>Dict::",
        "validate_aft_ages:48:(df:pd.DataFrame)>Dict:_find_column,_has_column:",
        "validate_ahe_data:154:(df:pd.DataFrame)>Dict:_find_column,_has_column:",
        "validate_track_counts:233:(df:pd.DataFrame)>Dict:_find_column,_has_column:",
        "validate_track_lengths:295:(df:pd.DataFrame)>Dict:_find_column,_has_column:",
        "validate_generic:358:(df:pd.DataFrame)>Dict::",
        "_has_column:396:(df:pd.DataFrame, col_pattern:str)>bool:_find_column:Check if DataFrame has a column matching pattern",
        "_find_column:401:(df:pd.DataFrame, patterns:List[str])>str::"
      ]
    ],
    "s/query-mcmillan-data.js": [
      "j",
      [
        "queryMcMillanData:31:async ()::"
      ]
    ],
    "s/search-appendix-tables.py": [
      "p",
      [
        "search_for_tables:10:(pdf)::Search for Table A2 and Table A3"
      ]
    ],
    "s/test-enhanced-image-extraction.py": [
      "p",
      [
        "extract_figure_captions:18:(pdf_path)::Extract all figure captions from the PDF text.",
        "create_figures_markdown:63:(images_dir, figures_summary)::Create a human-readable markdown file with figure descriptions.",
        "enhance_image_metadata:88:(metadata_path, figure_captions)::Add figure captions to existing image metadata.",
        "main:157:():create_figures_markdown,enhance_image_metadata,extract_figure_captions:Main function."
      ]
    ],
    "s/test_comprehensive_extraction.py": [
      "p",
      [
        "test_with_thermoanalysis:17:()::Test extraction with thermoanalysis already run",
        "test_without_thermoanalysis:95:()::Test extraction on a paper without thermoanalysis",
        "compare_approaches:152:()::Show side-by-side comparison"
      ]
    ],
    "s/test_enhanced_extractor.py": [
      "p",
      [
        "test_with_thermoanalysis:16:()::Test enhanced extractor WITH thermoanalysis (should find 5 tables)",
        "test_without_thermoanalysis:102:()::Test enhanced extractor WITHOUT thermoanalysis (backward compatibility)"
      ]
    ],
    "s/test_existing_extractor.py": [
      "p",
      [
        "test_mcmillan_paper:16:()::Test extraction on McMillan(2024) Malawi Rift paper"
      ]
    ],
    "s/test_extraction_all_5_tables.py": [
      "p",
      [
        "test_full_extraction:16:()::Test full extraction workflow on McMillan(2024)"
      ]
    ],
    "s/test_idea012_phase2.py": [
      "p",
      [
        "main:16:()::"
      ]
    ],
    "s/transform_peak_2021_earthbank.py": [
      "p",
      [
        "transform_to_earthbank:11:()::Transform RAW CSV tables to EarthBank format"
      ]
    ],
    "s/validate_peak_2021.py": [
      "p",
      [
        "validate_and_score:12:()::Validate extracted tables and calculate FAIR score"
      ]
    ],
    "s/validation-report.py": [
      "p",
      [
        "analyze_csv:11:(filepath)::Analyze CSV file content",
        "main:32:():analyze_csv:Generate report"
      ]
    ]
  },
  "globals": [
    [
      "FAIRTransformer._create_samples_table",
      "FAIRTransformer._is_table_type"
    ],
    [
      "clean_extracted_table",
      "_remove_continued_rows"
    ],
    [
      "validate_aft_ages",
      "_find_column"
    ],
    [
      "main",
      "export_for_import"
    ],
    [
      "insertFTCountData",
      "get"
    ],
    [
      "FAIRTransformer._create_ft_ages_table",
      "_extract_sample_id"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._create_ahe_table"
    ],
    [
      "main",
      "create_tables_md"
    ],
    [
      "main",
      "extract_fission_track_table"
    ],
    [
      "ExtractionValidator._compare_cell_values",
      "_values_equivalent"
    ],
    [
      "generateFairCompliance",
      "parseExtractionReport"
    ],
    [
      "evaluate_extraction_quality",
      "get_expected_col_range"
    ],
    [
      "main",
      "EarthBankImporter.import_he_template"
    ],
    [
      "process_paper",
      "create_index_file"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_zeta"
    ],
    [
      "FAIRTransformer._create_ahe_table",
      "FAIRTransformer._extract_field"
    ],
    [
      "MethodsParser.parse_methods",
      "_find_methods_section"
    ],
    [
      "parseCSV",
      "parseLine"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_counting_method"
    ],
    [
      "getSampleDetailV1",
      "getAHeGrainsBySample"
    ],
    [
      "getSampleDetailV1",
      "getSampleById"
    ],
    [
      "importFTAges",
      "parseCSV"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_microscope"
    ],
    [
      "generateRetryPrompt",
      "analyzeExtractionError"
    ],
    [
      "main",
      "create_figures_markdown"
    ],
    [
      "importFTAges",
      "toSQLValue"
    ],
    [
      "main",
      "transform_to_earthbank"
    ],
    [
      "transaction",
      "getPool"
    ],
    [
      "main",
      "get_or_create_dataset"
    ],
    [
      "main",
      "migrateFTCounts"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_objective"
    ],
    [
      "extract_table_1_fission_track",
      "get_page_text"
    ],
    [
      "main",
      "save_to_csv"
    ],
    [
      "extract_from_pdf",
      "UniversalThermoExtractor.validate"
    ],
    [
      "main",
      "create_batches"
    ],
    [
      "UniversalThermoExtractor.validate",
      "validate"
    ],
    [
      "main",
      "import_ft_datapoints"
    ],
    [
      "query",
      "query"
    ],
    [
      "extract_from_pdf",
      "UniversalThermoExtractor.analyze"
    ],
    [
      "FAIRTransformer.transform",
      "_find_tables_by_type"
    ],
    [
      "UniversalThermoExtractor.extract_all",
      "UniversalThermoExtractor.analyze"
    ],
    [
      "generateSchemaSnapshot",
      "map"
    ],
    [
      "validate_track_counts",
      "_has_column"
    ],
    [
      "UniversalThermoExtractor.analyze",
      "UniversalThermoExtractor._load_from_thermoanalysis"
    ],
    [
      "process_document",
      "create_index_file"
    ],
    [
      "getSampleDetail",
      "getSampleById"
    ],
    [
      "FAIRTransformer._create_ft_counts_table",
      "_extract_field"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_objective"
    ],
    [
      "main",
      "read_template"
    ],
    [
      "FAIRTransformer._create_ft_ages_table",
      "FAIRTransformer._extract_field"
    ],
    [
      "main",
      "migrateFTTrackLengths"
    ],
    [
      "query_to_dict",
      "get_connection"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_etching"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_etching"
    ],
    [
      "extract_with_camelot_stream",
      "_get_page_height"
    ],
    [
      "PDFCache.get",
      "PDFCache.get_cache_key"
    ],
    [
      "clean_extracted_table",
      "_remove_empty_rows_cols"
    ],
    [
      "validate_import_directory",
      "EarthBankImporter.close"
    ],
    [
      "importFTData",
      "insertFTCountData"
    ],
    [
      "_has_column",
      "_find_column"
    ],
    [
      "EarthBankImporter.close",
      "ImportValidator.close"
    ],
    [
      "log",
      "log"
    ],
    [
      "main",
      "extract_tables_from_pdf"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "_import_ft_length_data"
    ],
    [
      "handleExtractAll",
      "handleExtractTable"
    ],
    [
      "main",
      "getOrCreatePerson"
    ],
    [
      "importFTData",
      "readExcelSheet"
    ],
    [
      "load_age_elevation",
      "query_to_dataframe"
    ],
    [
      "create_age_elevation_plot",
      "calculate_exhumation_rate"
    ],
    [
      "DocumentStructure.build_reference_map",
      "DocumentStructure._extract_table_captions"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_dosimeter"
    ],
    [
      "get_dataset_info",
      "query_to_dict"
    ],
    [
      "main",
      "extract_uthe_table"
    ],
    [
      "DownloadSection",
      "formatFileSize"
    ],
    [
      "PDFCache.set",
      "PDFCache.get_cache_key"
    ],
    [
      "UniversalThermoExtractor.analyze",
      "_load_from_thermoanalysis"
    ],
    [
      "NavigationBar",
      "isActive"
    ],
    [
      "EarthBankImporter.connect",
      "connect"
    ],
    [
      "main",
      "show_summary"
    ],
    [
      "save_to_csv",
      "clean_cell"
    ],
    [
      "extract_table_from_plain_text",
      "find_table_boundaries"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._create_ft_ages_table"
    ],
    [
      "getSampleDetailV1",
      "getFTAgesBySample"
    ],
    [
      "extract_tables_from_pdf",
      "clean_cell"
    ],
    [
      "validate_extraction_batch",
      "validate_and_merge"
    ],
    [
      "main",
      "log"
    ],
    [
      "importSamples",
      "insertSample"
    ],
    [
      "FAIRTransformer._create_ft_counts_table",
      "_extract_sample_id"
    ],
    [
      "main",
      "import_ft_template"
    ],
    [
      "ExtractionValidator._detect_discrepancies",
      "_compare_cell_values"
    ],
    [
      "ExtractionValidator._compare_cell_values",
      "ExtractionValidator._numeric_difference"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "ExtractionValidator._resolve_row_count_discrepancy"
    ],
    [
      "main",
      "extract_schema_from_template"
    ],
    [
      "main",
      "create_radial_plot"
    ],
    [
      "main",
      "extract_images"
    ],
    [
      "main",
      "examine_page"
    ],
    [
      "main",
      "importFTTrackLengths"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "UniversalThermoExtractor._extract_metadata"
    ],
    [
      "calculateRetryMetrics",
      "analyzeExtractionError"
    ],
    [
      "clean_extracted_table",
      "_remove_header_rows"
    ],
    [
      "EarthBankImporter.import_he_template",
      "_import_he_datapoints"
    ],
    [
      "evaluate_extraction_quality",
      "get_validation_keywords"
    ],
    [
      "FAIRTransformer._create_track_lengths_table",
      "_extract_sample_id"
    ],
    [
      "extract_from_pdf",
      "validate"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "_is_table_type"
    ],
    [
      "FAIRTransformer.transform",
      "_create_ft_counts_table"
    ],
    [
      "main",
      "process_document"
    ],
    [
      "load_ft_grain_ages",
      "query_to_dataframe"
    ],
    [
      "main",
      "extractAuthorsFromCitation"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "_import_ft_count_data"
    ],
    [
      "FAIRTransformer._create_ahe_table",
      "FAIRTransformer._extract_sample_id"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_analyst"
    ],
    [
      "evaluate_extraction_quality",
      "get_expected_row_range"
    ],
    [
      "UniversalThermoExtractor.analyze",
      "UniversalThermoExtractor._analyze_pdf_directly"
    ],
    [
      "extract_tables_from_pdf",
      "identify_table"
    ],
    [
      "extract_all_tables_multi_method",
      "read_discovered_tables"
    ],
    [
      "DocumentStructure.classify_table",
      "classify_table_from_caption"
    ],
    [
      "UniversalThermoExtractor._load_from_thermoanalysis",
      "UniversalThermoExtractor._load_metadata_from_index"
    ],
    [
      "process_paper",
      "extract_sections"
    ],
    [
      "main",
      "save_csv"
    ],
    [
      "UniversalThermoExtractor.extract_all",
      "_extract_table_with_progressive_fallback"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "FAIRTransformer._extract_sample_id"
    ],
    [
      "ExtractionValidator._compare_cell_values",
      "ExtractionValidator._values_equivalent"
    ],
    [
      "extract_from_pdf",
      "transform_to_fair"
    ],
    [
      "arrayToCSV",
      "map"
    ],
    [
      "clean_extracted_table",
      "_clean_cell_values"
    ],
    [
      "validate_track_lengths",
      "_find_column"
    ],
    [
      "UniversalThermoExtractor.transform_to_fair",
      "UniversalThermoExtractor.extract_all"
    ],
    [
      "extract_all_tables_multi_method",
      "generate_comparison_report"
    ],
    [
      "extract_table_2_uthhe",
      "clean_cell"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "_import_ft_single_grain"
    ],
    [
      "load_track_lengths",
      "query_to_dataframe"
    ],
    [
      "main",
      "validate_extraction"
    ],
    [
      "FAIRTransformer.transform",
      "_create_samples_table"
    ],
    [
      "validate_ahe_data",
      "_find_column"
    ],
    [
      "DocumentStructure.classify_table",
      "DocumentStructure.classify_table_from_caption"
    ],
    [
      "extract_table_2_uthhe",
      "parse_multi_row_cell"
    ],
    [
      "ImportValidator.close",
      "close"
    ],
    [
      "main",
      "extract_figure_captions"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "EarthBankImporter._import_ft_binned_length_data"
    ],
    [
      "importFTAges",
      "parseArray"
    ],
    [
      "FAIRTransformer._create_ft_counts_table",
      "FAIRTransformer._extract_field"
    ],
    [
      "main",
      "generateFairCompliance"
    ],
    [
      "main",
      "EarthBankImporter.import_sample_template"
    ],
    [
      "extract_with_camelot_lattice",
      "_get_page_height"
    ],
    [
      "process_document",
      "extract_sections"
    ],
    [
      "EarthBankImporter.connect",
      "EarthBankImporter.connect"
    ],
    [
      "main",
      "buildArraySubstitutions"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "EarthBankImporter._import_ft_datapoints"
    ],
    [
      "getSampleDetailV1",
      "getFTLengthsBySample"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_algorithm"
    ],
    [
      "ImportValidator.validate_csv",
      "ImportValidator.validate_dataframe"
    ],
    [
      "main",
      "verify_import"
    ],
    [
      "importFTData",
      "insertFTDatapoint"
    ],
    [
      "main",
      "extract_table_2_uthhe"
    ],
    [
      "main",
      "create_dataset"
    ],
    [
      "TablesView",
      "fetchTableAvailability"
    ],
    [
      "extract_all_tables_multi_method",
      "score_extraction_results"
    ],
    [
      "save_table_to_csv",
      "clean_cell"
    ],
    [
      "ExtractionValidator.validate_and_merge",
      "_reconcile_discrepancies"
    ],
    [
      "validate_import_directory",
      "validate_csv"
    ],
    [
      "parseCSV",
      "parseCSVLine"
    ],
    [
      "FAIRTransformer._find_tables_by_type",
      "FAIRTransformer._is_table_type"
    ],
    [
      "main",
      "extract_table2_from_text"
    ],
    [
      "clean_extracted_table",
      "_normalize_column_name"
    ],
    [
      "main",
      "create_combined_pdfs"
    ],
    [
      "DocumentStructure.build_reference_map",
      "DocumentStructure.classify_table_from_caption"
    ],
    [
      "ExtractionValidator.validate_and_merge",
      "ExtractionValidator._reconcile_discrepancies"
    ],
    [
      "EarthBankImporter.import_he_template",
      "_import_he_whole_grain"
    ],
    [
      "main",
      "importFTData"
    ],
    [
      "query",
      "getPool"
    ],
    [
      "load_qa_statistics",
      "query_to_dataframe"
    ],
    [
      "main",
      "create_image_metadata"
    ],
    [
      "main",
      "importAHeGrainData"
    ],
    [
      "UniversalThermoExtractor.analyze",
      "_analyze_pdf_directly"
    ],
    [
      "main",
      "forEach"
    ],
    [
      "UniversalThermoExtractor.extract_all",
      "UniversalThermoExtractor._extract_table_with_progressive_fallback"
    ],
    [
      "UniversalThermoExtractor.transform_to_fair",
      "extract_all"
    ],
    [
      "clean_extracted_table",
      "_fix_wrapped_cells"
    ],
    [
      "ImportValidator.validate_dataframe",
      "ImportValidator.get_table_schema"
    ],
    [
      "extract_from_pdf",
      "analyze"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_dosimeter"
    ],
    [
      "UniversalThermoExtractor.extract_all",
      "analyze"
    ],
    [
      "FAIRTransformer._create_track_lengths_table",
      "_extract_field"
    ],
    [
      "DocumentStructure._extract_table_captions",
      "DocumentStructure._find_text_bbox"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "_get_full_text"
    ],
    [
      "importFTData",
      "PDFCache.get"
    ],
    [
      "clean_extracted_table",
      "_merge_split_rows"
    ],
    [
      "main",
      "process_paper"
    ],
    [
      "main",
      "create_age_histogram"
    ],
    [
      "DocumentStructure.build_reference_map",
      "_find_table_bbox"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._create_ft_counts_table"
    ],
    [
      "main",
      "create_spatial_transect_plot"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_laboratory"
    ],
    [
      "main",
      "parse_age_error"
    ],
    [
      "importFTCounts",
      "log"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "ExtractionValidator._resolve_column_discrepancy"
    ],
    [
      "main",
      "create_text_index"
    ],
    [
      "main",
      "create_reference_materials"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "_generate_igsn"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "UniversalThermoExtractor.analyze"
    ],
    [
      "validate_import_directory",
      "close"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_laboratory"
    ],
    [
      "load_ahe_grain_ages",
      "query_to_dataframe"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "_resolve_row_count_discrepancy"
    ],
    [
      "extractPDFText",
      "executePythonScript"
    ],
    [
      "validate_aft_ages",
      "_has_column"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_software"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "_extract_field"
    ],
    [
      "main",
      "enhance_image_metadata"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "analyze"
    ],
    [
      "load_spatial_transect",
      "query_to_dataframe"
    ],
    [
      "examineTemplate",
      "forEach"
    ],
    [
      "UniversalThermoExtractor._load_from_thermoanalysis",
      "UniversalThermoExtractor._extract_metadata"
    ],
    [
      "extract_table_2_uthhe",
      "get_page_text"
    ],
    [
      "generateFairCompliance",
      "calculateGrade"
    ],
    [
      "main",
      "examineTemplate"
    ],
    [
      "extract_by_type",
      "evaluate_extraction_quality"
    ],
    [
      "load_ahe_sample_ages",
      "query_to_dataframe"
    ],
    [
      "ImportValidator.close",
      "ImportValidator.close"
    ],
    [
      "FAIRTransformer.transform",
      "_create_ft_ages_table"
    ],
    [
      "FAIRTransformer.transform",
      "_create_ahe_table"
    ],
    [
      "importAHeGrainData",
      "log"
    ],
    [
      "get_sample_info",
      "query_to_dict"
    ],
    [
      "extract_all_tables_multi_method",
      "select_best_method"
    ],
    [
      "main",
      "analyze_csv"
    ],
    [
      "EarthBankImporter.close",
      "EarthBankImporter.close"
    ],
    [
      "main",
      "EarthBankImporter.close"
    ],
    [
      "validate_track_counts",
      "_find_column"
    ],
    [
      "extract_all_tables_multi_method",
      "extract_table_all_methods"
    ],
    [
      "clean_extracted_table",
      "_convert_numeric_columns"
    ],
    [
      "UniversalThermoExtractor.validate",
      "UniversalThermoExtractor.validate"
    ],
    [
      "main",
      "generate_report"
    ],
    [
      "extract_by_type",
      "extract_table_with_voting"
    ],
    [
      "extract_from_pdf",
      "UniversalThermoExtractor.extract_all"
    ],
    [
      "main",
      "extract_tables_with_context"
    ],
    [
      "main",
      "import_he_data"
    ],
    [
      "extract_all_tables_multi_method",
      "save_extraction_results"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_software"
    ],
    [
      "main",
      "inspect_page"
    ],
    [
      "main",
      "importFTAges"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "_resolve_cell_value_discrepancy"
    ],
    [
      "generateFairCompliance",
      "parsePaperIndex"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "UniversalThermoExtractor._get_full_text"
    ],
    [
      "main",
      "close"
    ],
    [
      "main",
      "calculate_fair_scores"
    ],
    [
      "main",
      "create_mtl_trends_plot"
    ],
    [
      "importFTTrackLengths",
      "log"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "_import_ft_binned_length_data"
    ],
    [
      "checkPyMuPDFInstalled",
      "executePythonScript"
    ],
    [
      "main",
      "parsePostgresArray"
    ],
    [
      "insertFTCountData",
      "PDFCache.get"
    ],
    [
      "fetchSession",
      "calculateGrade"
    ],
    [
      "getSampleDetail",
      "getFTDatapointsBySample"
    ],
    [
      "UniversalThermoExtractor._analyze_pdf_directly",
      "_extract_metadata"
    ],
    [
      "main",
      "validateMigration"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "_extract_sample_id"
    ],
    [
      "FAIRTransformer._create_ft_ages_table",
      "FAIRTransformer._extract_sample_id"
    ],
    [
      "ExtractionValidator._detect_discrepancies",
      "ExtractionValidator._compare_cell_values"
    ],
    [
      "getSampleDetail",
      "getHeDatapointsBySample"
    ],
    [
      "FAIRTransformer._find_tables_by_type",
      "_is_table_type"
    ],
    [
      "main",
      "connect"
    ],
    [
      "ImportValidator.validate_csv",
      "validate_dataframe"
    ],
    [
      "DocumentStructure.build_reference_map",
      "classify_table_from_caption"
    ],
    [
      "getSampleDetailV1",
      "getFTCountsBySample"
    ],
    [
      "FAIRTransformer._create_track_lengths_table",
      "FAIRTransformer._extract_field"
    ],
    [
      "main",
      "discover_tables"
    ],
    [
      "extract_from_pdf",
      "UniversalThermoExtractor.transform_to_fair"
    ],
    [
      "EarthBankImporter.import_he_template",
      "EarthBankImporter._import_he_datapoints"
    ],
    [
      "main",
      "merge_table_parts"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "EarthBankImporter._import_ft_single_grain"
    ],
    [
      "resetDatabase",
      "askQuestion"
    ],
    [
      "extract_tables_with_context",
      "clean_cell"
    ],
    [
      "main",
      "create_samples"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._find_tables_by_type"
    ],
    [
      "importSamples",
      "readExcelSheet"
    ],
    [
      "validate_import_directory",
      "ImportValidator.validate_csv"
    ],
    [
      "extract_from_pdf",
      "extract_all"
    ],
    [
      "main",
      "create_qa_plot"
    ],
    [
      "importSamples",
      "log"
    ],
    [
      "extract_uthe_table",
      "clean_cell"
    ],
    [
      "ImportValidator.validate_dataframe",
      "get_table_schema"
    ],
    [
      "validate_import_directory",
      "ImportValidator.close"
    ],
    [
      "extract_uthe_table",
      "parse_multi_row_cell"
    ],
    [
      "importAHeGrainData",
      "parseCSV"
    ],
    [
      "main",
      "buildSubstitutionMap"
    ],
    [
      "main",
      "migrateFTAges"
    ],
    [
      "importAHeGrainData",
      "toSQLValue"
    ],
    [
      "main",
      "check_kohn_2024_compliance"
    ],
    [
      "main",
      "create_table_index"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "FAIRTransformer._extract_field"
    ],
    [
      "create_radial_plot",
      "calculate_radial_coordinates"
    ],
    [
      "main",
      "connect_db"
    ],
    [
      "transaction",
      "query"
    ],
    [
      "main",
      "importFTCounts"
    ],
    [
      "PapersPage",
      "getDatasetStats"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_zeta"
    ],
    [
      "main",
      "create_age_elevation_plot"
    ],
    [
      "identify_table",
      "clean_cell"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._create_track_lengths_table"
    ],
    [
      "main",
      "loadConfig"
    ],
    [
      "ExtractionValidator.validate_and_merge",
      "_detect_discrepancies"
    ],
    [
      "FAIRTransformer._create_samples_table",
      "FAIRTransformer._generate_igsn"
    ],
    [
      "PDFCache.get",
      "get_cache_key"
    ],
    [
      "populateDataFiles",
      "getFileSize"
    ],
    [
      "main",
      "extract_table_1_fission_track"
    ],
    [
      "importFTTrackLengths",
      "parseCSV"
    ],
    [
      "main",
      "extract_table1_from_text"
    ],
    [
      "main",
      "create_figures_md"
    ],
    [
      "importFTTrackLengths",
      "toSQLValue"
    ],
    [
      "DocumentStructure.build_reference_map",
      "DocumentStructure._find_table_bbox"
    ],
    [
      "main",
      "EarthBankImporter.connect"
    ],
    [
      "FAIRTransformer._create_ahe_table",
      "_extract_field"
    ],
    [
      "DocumentStructure.build_reference_map",
      "_extract_table_captions"
    ],
    [
      "importFTData",
      "get"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "_import_ft_datapoints"
    ],
    [
      "validate_track_lengths",
      "_has_column"
    ],
    [
      "DocumentStructure._extract_table_captions",
      "_find_text_bbox"
    ],
    [
      "main",
      "ImportValidator.close"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._find_methods_section"
    ],
    [
      "main",
      "import_sample_template"
    ],
    [
      "validate_ahe_data",
      "_has_column"
    ],
    [
      "main",
      "show_sample"
    ],
    [
      "PDFCache.set",
      "get_cache_key"
    ],
    [
      "UniversalThermoExtractor._load_from_thermoanalysis",
      "_load_metadata_from_index"
    ],
    [
      "extract_table_1_fission_track",
      "clean_cell"
    ],
    [
      "main",
      "load_data"
    ],
    [
      "populateDataFiles",
      "getFilesFromDirectory"
    ],
    [
      "extract_table_from_text",
      "_cluster_x_coordinates"
    ],
    [
      "extract_table_1_fission_track",
      "parse_multi_row_cell"
    ],
    [
      "query_to_dataframe",
      "get_connection"
    ],
    [
      "main",
      "generateCommand"
    ],
    [
      "FAIRTransformer._create_ft_counts_table",
      "FAIRTransformer._extract_sample_id"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_microscope"
    ],
    [
      "FAIRTransformer._create_ft_ages_table",
      "_extract_field"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "_resolve_column_discrepancy"
    ],
    [
      "FAIRTransformer.transform",
      "_create_track_lengths_table"
    ],
    [
      "extract_fission_track_table",
      "clean_cell"
    ],
    [
      "importFTAges",
      "log"
    ],
    [
      "main",
      "import_he_template"
    ],
    [
      "importSamples",
      "parseCSV"
    ],
    [
      "extract_fission_track_table",
      "parse_multi_row_cell"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "EarthBankImporter._import_ft_length_data"
    ],
    [
      "substituteTemplate",
      "RegExp"
    ],
    [
      "main",
      "EarthBankImporter.import_ft_template"
    ],
    [
      "main",
      "importSamples"
    ],
    [
      "importSamples",
      "toSQLValue"
    ],
    [
      "EarthBankImporter.import_he_template",
      "EarthBankImporter._import_he_whole_grain"
    ],
    [
      "main",
      "save_table_to_csv"
    ],
    [
      "main",
      "extract_metadata_from_text"
    ],
    [
      "FAIRTransformer._create_track_lengths_table",
      "FAIRTransformer._extract_sample_id"
    ],
    [
      "generateCommand",
      "substituteTemplate"
    ],
    [
      "validate_extraction_batch",
      "ExtractionValidator.validate_and_merge"
    ],
    [
      "ExtractionValidator._reconcile_discrepancies",
      "ExtractionValidator._resolve_cell_value_discrepancy"
    ],
    [
      "FAIRTransformer.transform",
      "FAIRTransformer._create_samples_table"
    ],
    [
      "main",
      "EarthBankImporter.get_or_create_dataset"
    ],
    [
      "EarthBankImporter.close",
      "close"
    ],
    [
      "is_table_header",
      "clean_cell"
    ],
    [
      "main",
      "extract_plain_text"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_algorithm"
    ],
    [
      "UniversalThermoExtractor._load_from_thermoanalysis",
      "_extract_metadata"
    ],
    [
      "extract_table_with_voting",
      "evaluate_extraction_quality"
    ],
    [
      "FAIRTransformer._create_ahe_table",
      "_extract_sample_id"
    ],
    [
      "main",
      "importHeData"
    ],
    [
      "getFilesFromDirectory",
      "getFileSize"
    ],
    [
      "extract_sections",
      "extract_metadata_and_toc"
    ],
    [
      "clean_extracted_table",
      "_remove_footer_rows"
    ],
    [
      "ExtractionValidator.validate_and_merge",
      "ExtractionValidator._detect_discrepancies"
    ],
    [
      "main",
      "create_probability_density_plot"
    ],
    [
      "MethodsParser.parse_methods",
      "_extract_counting_method"
    ],
    [
      "load_sample_ages",
      "query_to_dataframe"
    ],
    [
      "ImportValidator.close",
      "EarthBankImporter.close"
    ],
    [
      "ExtractionValidator._compare_cell_values",
      "_numeric_difference"
    ],
    [
      "extract_table_from_text",
      "_assign_to_column"
    ],
    [
      "merge_table_parts",
      "clean_cell"
    ],
    [
      "importFTCounts",
      "parseCSV"
    ],
    [
      "MethodsParser.parse_methods",
      "MethodsParser._extract_analyst"
    ],
    [
      "EarthBankImporter.import_ft_template",
      "EarthBankImporter._import_ft_count_data"
    ],
    [
      "importFTCounts",
      "toSQLValue"
    ]
  ],
  "dependencies": {
    "app/api/analysis/ages/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/connection"
    ],
    "app/api/datasets/[id]/download-all/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/queries",
      "fs",
      "path",
      "jszip"
    ],
    "app/api/datasets/[id]/supplementary-files/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/connection"
    ],
    "app/api/datasets/[id]/table-counts/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/connection"
    ],
    "app/api/datasets/files/[id]/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/connection",
      "fs",
      "path",
      "@/lib/types/thermo-data"
    ],
    "app/api/extraction/[sessionId]/analyze/route.ts": [
      "next/server",
      "path",
      "fs/promises",
      "@/lib/db/extraction-queries",
      "@/lib/utils/python-bridge",
      "@/lib/anthropic/client",
      "@/lib/anthropic/prompts"
    ],
    "app/api/extraction/[sessionId]/extract/route.ts": [
      "next/server",
      "path",
      "fs/promises",
      "@/lib/db/extraction-queries",
      "@/lib/utils/python-bridge",
      "@/lib/anthropic/client",
      "@/lib/anthropic/prompts",
      "@/lib/extraction/csv-utils",
      "@/lib/extraction/field-mappings",
      "@/lib/extraction/extract-with-retry"
    ],
    "app/api/extraction/[sessionId]/load/route.ts": [
      "next/server",
      "path",
      "fs/promises",
      "@/lib/db/connection",
      "@/lib/constants/file-types"
    ],
    "app/api/extraction/[sessionId]/route.ts": [
      "next/server",
      "@/lib/db/extraction-queries",
      "@/lib/utils/file-upload"
    ],
    "app/api/extraction/upload/route.ts": [
      "next/server",
      "@/lib/utils/file-upload",
      "@/lib/db/extraction-queries"
    ],
    "app/api/samples/[id]/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/earthbank-queries"
    ],
    "app/api/samples/route.ts": [
      "next/server",
      "@/lib/db/earthbank-queries",
      "@/lib/types/earthbank-types",
      "@/lib/utils/logger"
    ],
    "app/api/stats/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/earthbank-queries"
    ],
    "app/api/tables/[name]/route.ts": [
      "next/server",
      "@/lib/utils/logger",
      "@/lib/db/connection"
    ],
    "app/datasets/[id]/analysis/page.tsx": [
      "next",
      "next/navigation",
      "@/lib/db/earthbank-queries",
      "@/components/AgeBarChart",
      "@/components/datasets/DatasetTabs",
      "@/components/ui/Breadcrumb"
    ],
    "app/datasets/[id]/data/page.tsx": [
      "next",
      "next/navigation",
      "@/lib/db/earthbank-queries",
      "@/lib/db/queries",
      "@/components/datasets/DownloadSection",
      "@/components/ui/Breadcrumb",
      "@/components/datasets/DatasetTabs",
      "@/lib/utils/extract-paper-title"
    ],
    "app/datasets/[id]/fair/page.tsx": [
      "next",
      "next/navigation",
      "@/lib/db/earthbank-queries",
      "@/lib/db/queries",
      "@/lib/db/fair-compliance",
      "@/components/datasets/FairScoreCard",
      "@/components/ui/Breadcrumb",
      "@/components/datasets/DatasetTabs",
      "@/components/ui/Tooltip"
    ],
    "app/datasets/[id]/not-found.tsx": [
      "next/link"
    ],
    "app/datasets/[id]/page.tsx": [
      "next",
      "next/link",
      "next/navigation",
      "@/lib/db/earthbank-queries",
      "@/lib/db/connection",
      "@/components/ui/Breadcrumb",
      "@/components/datasets/DatasetTabs",
      "@/components/datasets/SupplementaryFilesSection",
      "@/lib/utils/extract-paper-title"
    ],
    "app/datasets/[id]/tables/page.tsx": [
      "@/components/datasets/DatasetTabs",
      "@/components/ui/Breadcrumb",
      "@/components/datasets/TablesView"
    ],
    "app/datasets/page.tsx": [
      "next",
      "@/lib/db/earthbank-queries",
      "@/lib/db/connection",
      "@/components/datasets/DatasetCard"
    ],
    "app/extraction/[sessionId]/analyze/page.tsx": [
      "react",
      "next/navigation",
      "next/link"
    ],
    "app/extraction/[sessionId]/extract/page.tsx": [
      "react",
      "next/navigation",
      "next/link"
    ],
    "app/extraction/[sessionId]/load/page.tsx": [
      "react",
      "next/link"
    ],
    "app/layout.tsx": [
      "next/font/google",
      "@/components/NavigationBar"
    ],
    "app/page.tsx": [
      "next/navigation"
    ],
    "app/samples/[id]/page.tsx": [
      "next/link",
      "@/lib/db/earthbank-queries",
      "next/navigation",
      "@/lib/types/earthbank-types"
    ],
    "app/samples/page.tsx": [
      "next/link",
      "@/lib/db/earthbank-queries"
    ],
    "app/upload/page.tsx": [
      "react",
      "next/navigation"
    ],
    "components/AgeBarChart.tsx": [
      "react"
    ],
    "components/NavigationBar.tsx": [
      "next/link",
      "next/navigation"
    ],
    "components/datasets/DatasetCard.tsx": [
      "next/link",
      "@/lib/types/earthbank-types"
    ],
    "components/datasets/DatasetTabs.tsx": [
      "next/navigation"
    ],
    "components/datasets/DownloadSection.tsx": [
      "@/lib/types/thermo-data",
      "@/lib/constants/file-types"
    ],
    "components/datasets/FairScoreCard.tsx": [
      "@/lib/types/thermo-data"
    ],
    "components/datasets/SupplementaryFilesSection.tsx": [
      "react"
    ],
    "components/datasets/TablesView.tsx": [
      "react",
      "@tanstack/react-table",
      "@/components/tables/InteractiveTable",
      "@/components/tables/TableSelector"
    ],
    "components/tables/ExportButton.tsx": [
      "lucide-react"
    ],
    "components/tables/InteractiveTable.tsx": [
      "react",
      "@tanstack/react-table",
      "components/tables/ExportButton.tsx"
    ],
    "components/ui/Breadcrumb.tsx": [
      "next/link",
      "lucide-react"
    ],
    "components/ui/Tooltip.tsx": [
      "react"
    ],
    "lib/anthropic/client.ts": [
      "@anthropic-ai/sdk"
    ],
    "lib/db/connection.ts": [
      "pg",
      "dotenv",
      "path",
      "@/lib/utils/logger"
    ],
    "lib/db/earthbank-queries.ts": [
      "lib/db/connection.ts",
      "@/lib/types/earthbank-types"
    ],
    "lib/db/extraction-queries.ts": [
      "lib/db/connection.ts",
      "@/lib/types/extraction-types"
    ],
    "lib/db/fair-compliance.ts": [
      "fs",
      "path",
      "@/lib/utils/logger"
    ],
    "lib/db/queries.ts": [
      "lib/db/connection.ts",
      "@/lib/types/thermo-data"
    ],
    "lib/extraction/csv-utils.ts": [
      "lib/extraction/field-mappings.ts"
    ],
    "lib/utils/file-upload.ts": [
      "fs/promises",
      "path",
      "nanoid"
    ],
    "lib/utils/logger.ts": [
      "@/lib/utils/logger",
      "pino"
    ],
    "lib/utils/python-bridge.ts": [
      "child_process",
      "path",
      "fs",
      "fs",
      "os",
      "fs",
      "os",
      "fs",
      "os"
    ],
    "scripts/analysis/analyze_thermo_paper.py": [
      "re",
      "json",
      "sys",
      "pathlib",
      "datetime",
      "fitz  # PyMuPDF",
      "subprocess",
      "fitz"
    ],
    "scripts/analysis/spatial_plots.py": [
      "argparse",
      "sys",
      "pathlib",
      "numpy",
      "pandas",
      "plotly.graph_objects",
      "plotly.subplots",
      "scipy",
      "typing",
      "utils.data_loaders",
      "traceback"
    ],
    "scripts/analysis/statistical_plots.py": [
      "argparse",
      "sys",
      "pathlib",
      "numpy",
      "pandas",
      "plotly.graph_objects",
      "plotly.express",
      "plotly.subplots",
      "matplotlib.pyplot",
      "scipy",
      "typing",
      "utils.data_loaders",
      "utils.data_loaders"
    ],
    "scripts/analysis/utils/data_loaders.py": [
      "utils.data_loaders",
      "os",
      "psycopg2",
      "psycopg2.extras",
      "dotenv",
      "pathlib",
      "typing",
      "pandas"
    ],
    "scripts/backfill-table-pdfs.py": [
      "json",
      "pathlib",
      "datetime",
      "fitz  # PyMuPDF"
    ],
    "scripts/break-papers-into-sections.py": [
      "os",
      "re",
      "pathlib",
      "typing"
    ],
    "scripts/break-terminology-docs.py": [
      "os",
      "re",
      "pathlib",
      "typing"
    ],
    "scripts/complete_malawi_extraction.py": [
      "sys",
      "scripts.pdf.extraction_engine",
      "pandas",
      "os",
      "pathlib"
    ],
    "scripts/db/backdate-fair-compliance.ts": [
      "fs",
      "path"
    ],
    "scripts/db/check-datasets-columns.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/db/check-neon-data.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/db/clean-he-csv-data-v2.ts": [
      "fs",
      "path"
    ],
    "scripts/db/clear-database.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/db/examine-earthbank-templates.ts": [
      "exceljs",
      "path",
      "fs"
    ],
    "scripts/db/export-schema.ts": [
      "lib/db/connection.ts",
      "fs"
    ],
    "scripts/db/extract-csv-schema.py": [
      "csv",
      "pathlib",
      "collections"
    ],
    "scripts/db/extract-earthbank-schema.py": [
      "pandas",
      "json",
      "pathlib"
    ],
    "scripts/db/import-earthbank-templates.ts": [
      "exceljs",
      "path",
      "fs",
      "pg",
      "dotenv"
    ],
    "scripts/db/import-thermo-data.ts": [
      "dotenv",
      "path",
      "pg",
      "fs",
      "path"
    ],
    "scripts/db/load-dataset-from-paper.ts": [
      "fs",
      "path",
      "lib/db/connection.ts",
      "lib/constants/file-types.ts"
    ],
    "scripts/db/migrate-v1-to-v2.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/db/populate-dataset-authors.ts": [
      "@/lib/db/connection",
      "pg"
    ],
    "scripts/db/populate-malawi-files.ts": [
      "lib/db/connection.ts",
      "fs",
      "path"
    ],
    "scripts/db/read-earthbank-templates.py": [
      "pandas",
      "sys",
      "pathlib"
    ],
    "scripts/db/reset-database.ts": [
      "pg",
      "fs",
      "path",
      "readline"
    ],
    "scripts/db/run-migration.ts": [
      "pg",
      "fs",
      "path",
      "dotenv"
    ],
    "scripts/db/test-connection.ts": [
      "dotenv",
      "path",
      "pg"
    ],
    "scripts/db/test-earthbank-queries.ts": [
      "@/lib/db/earthbank-queries"
    ],
    "scripts/db/transform-and-import-malawi.ts": [
      "fs",
      "csv-parse/sync",
      "csv-stringify/sync",
      "lib/db/connection.ts"
    ],
    "scripts/db/transform-fair-csv-headers.ts": [
      "fs",
      "path"
    ],
    "scripts/db/update-malawi-metadata.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/db/validate-import.py": [
      "sys",
      "os",
      "pandas",
      "psycopg2",
      "pathlib",
      "dotenv",
      "typing"
    ],
    "scripts/debug-page10.py": [
      "pdfplumber"
    ],
    "scripts/examine-pdf-page.py": [
      "pdfplumber"
    ],
    "scripts/extract-all-tables.py": [
      "pdfplumber",
      "csv",
      "os",
      "re"
    ],
    "scripts/extract-figure-captions.ts": [
      "fs",
      "path"
    ],
    "scripts/extract-from-text.py": [
      "pdfplumber",
      "csv",
      "os",
      "re"
    ],
    "scripts/extract-tables-final.py": [
      "pdfplumber",
      "csv",
      "os",
      "re"
    ],
    "scripts/extract-tables-mcmillan.py": [
      "pdfplumber",
      "csv",
      "os",
      "pathlib"
    ],
    "scripts/extract-tables-v2.py": [
      "pdfplumber",
      "csv",
      "os",
      "re"
    ],
    "scripts/extract_and_save_mcmillan.py": [
      "sys",
      "pathlib",
      "pandas",
      "pdf.extraction_engine"
    ],
    "scripts/extract_pdf_pages.py": [
      "sys",
      "pathlib",
      "pypdf"
    ],
    "scripts/extract_peak_2021_improved.py": [
      "pandas",
      "sys",
      "pathlib",
      "traceback",
      "traceback"
    ],
    "scripts/extract_peak_2021_tables.py": [
      "pandas",
      "sys",
      "pathlib"
    ],
    "scripts/generate-data-commands.ts": [
      "fs",
      "path"
    ],
    "scripts/generate-schema-snapshot.ts": [
      "lib/db/connection.ts"
    ],
    "scripts/import-mcmillan-2024-complete.ts": [
      "pg",
      "xlsx",
      "path",
      "dotenv"
    ],
    "scripts/import-mcmillan-2024.ts": [
      "lib/db/connection.ts",
      "fs",
      "path",
      "csv-parse/sync"
    ],
    "scripts/import_earthbank_templates.py": [
      "pandas",
      "psycopg2",
      "psycopg2.extras",
      "pathlib",
      "sys",
      "argparse",
      "datetime",
      "typing"
    ],
    "scripts/import_malawi_data.py": [
      "pandas",
      "psycopg2",
      "psycopg2.extras",
      "pathlib",
      "datetime",
      "sys",
      "os"
    ],
    "scripts/import_peak_2021.py": [
      "pandas",
      "psycopg2",
      "psycopg2.extras",
      "pathlib",
      "sys",
      "dotenv",
      "os",
      "traceback"
    ],
    "scripts/inspect-earthbank-mappings.js": [
      "xlsx",
      "path",
      "pg"
    ],
    "scripts/inspect-pdf-tables.py": [
      "pdfplumber",
      "pdfplumber.utils"
    ],
    "scripts/malawi_data_analysis.py": [
      "pandas",
      "json",
      "pathlib",
      "typing",
      "datetime"
    ],
    "scripts/pdf/cache.py": [
      "hashlib",
      "pickle",
      "logging",
      "pathlib",
      "typing"
    ],
    "scripts/pdf/cleaners.py": [
      "logging",
      "typing",
      "pandas",
      "numpy",
      "re"
    ],
    "scripts/pdf/extract-table-pdfs.py": [
      "fitz  # PyMuPDF",
      "pathlib",
      "sys",
      "json"
    ],
    "scripts/pdf/extract_malawi_rift.py": [
      "sys",
      "pandas",
      "pathlib",
      "scripts.pdf.extraction_engine"
    ],
    "scripts/pdf/extraction_engine.py": [
      "logging",
      "pathlib",
      "typing",
      "pandas",
      "camelot",
      "fitz  # pymupdf",
      "pdfplumber",
      "re",
      "re",
      "re",
      "sys"
    ],
    "scripts/pdf/extraction_validator.py": [
      "logging",
      "typing",
      "pandas",
      "numpy",
      "collections"
    ],
    "scripts/pdf/fair_transformer.py": [
      "logging",
      "typing",
      "datetime",
      "pandas",
      "numpy"
    ],
    "scripts/pdf/methods_parser.py": [
      "logging",
      "re",
      "typing"
    ],
    "scripts/pdf/multi_method_extraction.py": [
      "logging",
      "json",
      "pathlib",
      "typing",
      "pandas",
      "re"
    ],
    "scripts/pdf/semantic_analysis.py": [
      "logging",
      "re",
      "pathlib",
      "typing",
      "fitz  # pymupdf",
      "re"
    ],
    "scripts/pdf/table_extractors.py": [
      "logging",
      "typing",
      "pandas",
      "fitz  # pymupdf for page dimensions",
      "camelot",
      "pdfplumber",
      "fitz",
      "collections",
      "traceback"
    ],
    "scripts/pdf/validators.py": [
      "logging",
      "typing",
      "pandas",
      "numpy"
    ],
    "scripts/query-mcmillan-data.js": [
      "pg"
    ],
    "scripts/search-appendix-tables.py": [
      "pdfplumber"
    ],
    "scripts/test-enhanced-image-extraction.py": [
      "json",
      "re",
      "pathlib",
      "fitz  # PyMuPDF"
    ],
    "scripts/test_comprehensive_extraction.py": [
      "sys",
      "pathlib",
      "pandas",
      "pdf.extraction_engine"
    ],
    "scripts/test_enhanced_extractor.py": [
      "sys",
      "pathlib",
      "pdf.extraction_engine"
    ],
    "scripts/test_existing_extractor.py": [
      "sys",
      "pathlib",
      "pdf.extraction_engine"
    ],
    "scripts/test_extraction_all_5_tables.py": [
      "sys",
      "pathlib",
      "pdf.extraction_engine"
    ],
    "scripts/test_idea012_phase2.py": [
      "sys",
      "pathlib",
      "scripts.pdf.multi_method_extraction",
      "traceback"
    ],
    "scripts/transform_peak_2021_earthbank.py": [
      "pandas",
      "sys",
      "pathlib",
      "re"
    ],
    "scripts/validate_peak_2021.py": [
      "pandas",
      "sys",
      "pathlib",
      "datetime"
    ],
    "scripts/validation-report.py": [
      "csv",
      "os"
    ]
  },
  "dir_purposes": {
    "app/api/analysis/ages": "API routes and endpoints",
    "app/api/datasets/[id]/download-all": "API routes and endpoints",
    "app/api/datasets/[id]/supplementary-files": "API routes and endpoints",
    "app/api/datasets/[id]/table-counts": "API routes and endpoints",
    "app/api/datasets/files/[id]": "API routes and endpoints",
    "app/api/extraction/[sessionId]/analyze": "API routes and endpoints",
    "app/api/extraction/[sessionId]": "API routes and endpoints",
    "app/api/extraction/[sessionId]/extract": "API routes and endpoints",
    "app/api/extraction/[sessionId]/load": "API routes and endpoints",
    "app/api/extraction/upload": "API routes and endpoints",
    "app/api/samples/[id]": "API routes and endpoints",
    "app/api/samples": "API routes and endpoints",
    "app/api/stats": "API routes and endpoints",
    "app/api/tables/[name]": "API routes and endpoints",
    "components": "Reusable UI components",
    "lib/utils": "Shared utility functions and helpers",
    "readme/app/api/tables/[name]": "API routes and endpoints",
    "readme/scripts": "Build and utility scripts",
    "scripts": "Build and utility scripts",
    "scripts/analysis/utils": "Shared utility functions and helpers",
    "scripts/db": "Test files and test utilities",
    "scripts/db/migrations": "Database migration files",
    "scripts/migrations": "Database migration files"
  },
  "staleness": 1763097807.237087
}