-- Database Schema Snapshot
-- Generated: 2025-11-24 07:47:31
-- Database: Supabase PostgreSQL
-- Generated by: /bigtidy living documentation system

-- Table: ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres

-- Table: batches
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                             Table "public.batches"
        Column        |            Type             | Collation | Nullable |               Default               
----------------------+-----------------------------+-----------+----------+-------------------------------------
 id                   | integer                     |           | not null | nextval('batches_id_seq'::regclass)
 batch_name           | character varying(200)      |           | not null | 
 analysis_date        | date                        |           |          | 
 laboratory           | character varying(200)      |           |          | 
 analytical_session   | character varying(200)      |           |          | 
 irradiation_id       | character varying(100)      |           |          | 
 irradiation_reactor  | character varying(100)      |           |          | 
 thermal_neutron_dose | numeric(18,2)               |           |          | 
 created_at           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "batches_pkey" PRIMARY KEY, btree (id)
    "batches_batch_name_key" UNIQUE CONSTRAINT, btree (batch_name)
    "idx_batches_date" btree (analysis_date)
    "idx_batches_name" btree (batch_name)
Referenced by:
    TABLE "ft_datapoints" CONSTRAINT "ft_datapoints_batch_id_fkey" FOREIGN KEY (batch_id) REFERENCES batches(id)
    TABLE "he_datapoints" CONSTRAINT "he_datapoints_batch_id_fkey" FOREIGN KEY (batch_id) REFERENCES batches(id)
    TABLE "reference_materials" CONSTRAINT "reference_materials_batch_id_fkey" FOREIGN KEY (batch_id) REFERENCES batches(id) ON DELETE CASCADE


-- Table: data_files
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                           Table "public.data_files"
     Column      |            Type             | Collation | Nullable |                Default                 
-----------------+-----------------------------+-----------+----------+----------------------------------------
 id              | integer                     |           | not null | nextval('data_files_id_seq'::regclass)
 dataset_id      | integer                     |           |          | 
 file_type       | character varying(50)       |           | not null | 
 file_path       | text                        |           | not null | 
 file_name       | text                        |           | not null | 
 file_size_bytes | bigint                      |           |          | 
 mime_type       | character varying(100)      |           |          | 
 description     | text                        |           |          | 
 created_at      | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 category        | character varying(100)      |           |          | 
 upload_status   | character varying(50)       |           |          | 'available'::character varying
 display_name    | text                        |           |          | 
 is_folder       | boolean                     |           |          | false
 source_url      | text                        |           |          | 
 upload_notes    | text                        |           |          | 
 row_count       | integer                     |           |          | 
 updated_at      | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "data_files_pkey" PRIMARY KEY, btree (id)
    "idx_data_files_category" btree (category)
    "idx_data_files_dataset" btree (dataset_id)
    "idx_data_files_type" btree (file_type)
    "idx_data_files_upload_status" btree (upload_status)
Foreign-key constraints:
    "data_files_dataset_id_fkey" FOREIGN KEY (dataset_id) REFERENCES datasets(id) ON DELETE CASCADE


-- Table: datapoint_people_roles
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                          Table "public.datapoint_people_roles"
     Column     |            Type             | Collation | Nullable |                      Default                       
----------------+-----------------------------+-----------+----------+----------------------------------------------------
 id             | integer                     |           | not null | nextval('datapoint_people_roles_id_seq'::regclass)
 datapoint_id   | integer                     |           | not null | 
 datapoint_type | character varying(20)       |           | not null | 
 person_id      | integer                     |           | not null | 
 role           | character varying(50)       |           | not null | 
 created_at     | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "datapoint_people_roles_pkey" PRIMARY KEY, btree (id)
    "idx_datapoint_people_datapoint" btree (datapoint_id, datapoint_type)
    "idx_datapoint_people_person" btree (person_id)
Check constraints:
    "check_datapoint_type" CHECK (datapoint_type::text = ANY (ARRAY['ft'::character varying, 'he'::character varying, 'upb'::character varying, 'trace'::character varying]::text[]))
Foreign-key constraints:
    "datapoint_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE


-- Table: dataset_people_roles
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                        Table "public.dataset_people_roles"
   Column   |            Type             | Collation | Nullable |                     Default                      
------------+-----------------------------+-----------+----------+--------------------------------------------------
 id         | integer                     |           | not null | nextval('dataset_people_roles_id_seq'::regclass)
 dataset_id | integer                     |           |          | 
 person_id  | integer                     |           |          | 
 role       | character varying(100)      |           | not null | 
 created_at | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "dataset_people_roles_pkey" PRIMARY KEY, btree (id)
    "dataset_people_roles_dataset_id_person_id_role_key" UNIQUE CONSTRAINT, btree (dataset_id, person_id, role)
    "idx_dataset_people_dataset" btree (dataset_id)
    "idx_dataset_people_person" btree (person_id)
Foreign-key constraints:
    "dataset_people_roles_dataset_id_fkey" FOREIGN KEY (dataset_id) REFERENCES datasets(id) ON DELETE CASCADE
    "dataset_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE


-- Table: datasets
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                               Table "public.datasets"
          Column          |            Type             | Collation | Nullable |               Default                
--------------------------+-----------------------------+-----------+----------+--------------------------------------
 id                       | integer                     |           | not null | nextval('datasets_id_seq'::regclass)
 dataset_name             | text                        |           | not null | 
 description              | text                        |           |          | 
 publication_reference    | text                        |           |          | 
 publication_doi          | character varying(100)      |           |          | 
 study_area               | character varying(200)      |           |          | 
 privacy_status           | character varying(20)       |           |          | 'public'::character varying
 embargo_date             | date                        |           |          | 
 data_package_doi         | character varying(100)      |           |          | 
 keywords                 | text                        |           |          | 
 data_owner               | character varying(200)      |           |          | 
 license                  | character varying(100)      |           |          | 'CC-BY-4.0'::character varying
 submission_date          | date                        |           |          | CURRENT_DATE
 last_modified_date       | date                        |           |          | CURRENT_DATE
 created_at               | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 full_citation            | text                        |           |          | 
 authors                  | text[]                      |           |          | 
 publication_journal      | character varying(200)      |           |          | 
 publication_year         | integer                     |           |          | 
 publication_volume_pages | character varying(100)      |           |          | 
 doi                      | character varying(100)      |           |          | 
 pdf_filename             | character varying(500)      |           |          | 
 pdf_url                  | text                        |           |          | 
 supplementary_files_url  | text                        |           |          | 
 study_location           | text                        |           |          | 
 laboratory               | character varying(200)      |           |          | 
 mineral_analyzed         | character varying(100)      |           |          | 
 sample_count             | integer                     |           |          | 
 age_range_min_ma         | numeric(10,2)               |           |          | 
 age_range_max_ma         | numeric(10,2)               |           |          | 
 analysis_methods         | text[]                      |           |          | 
 paper_summary            | text                        |           |          | 
 key_findings             | text[]                      |           |          | 
 fair_score               | integer                     |           |          | 
 fair_reasoning           | text                        |           |          | 
 extraction_report_url    | text                        |           |          | 
 collection_date          | date                        |           |          | 
 analyst                  | character varying(200)      |           |          | 
Indexes:
    "datasets_pkey" PRIMARY KEY, btree (id)
    "idx_datasets_authors" gin (authors)
    "idx_datasets_doi" btree (data_package_doi) WHERE data_package_doi IS NOT NULL
    "idx_datasets_privacy" btree (privacy_status)
    "idx_datasets_publication_doi" btree (doi) WHERE doi IS NOT NULL
    "idx_datasets_publication_year" btree (publication_year) WHERE publication_year IS NOT NULL
Check constraints:

-- Table: earthbank_ftDatapoints
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                              Table "public.earthbank_ftDatapoints"
        Column         |            Type             | Collation | Nullable |      Default       
-----------------------+-----------------------------+-----------+----------+--------------------
 id                    | uuid                        |           | not null | uuid_generate_v4()
 datapointName         | character varying(255)      |           | not null | 
 sampleID              | character varying(255)      |           | not null | 
 laboratory            | character varying(255)      |           |          | 
 analyst               | character varying(255)      |           |          | 
 analysisDate          | timestamp without time zone |           |          | 
 labNumber             | character varying(100)      |           |          | 
 ftMethod              | character varying(100)      |           |          | 
 mineralType           | character varying(100)      |           |          | 
 nGrains               | integer                     |           |          | 
 totalNs               | integer                     |           |          | 
 rhoS                  | numeric(15,6)               |           |          | 
 uPpm                  | numeric(10,2)               |           |          | 
 uPpmStdDev            | numeric(10,2)               |           |          | 
 uConcentration        | numeric(10,2)               |           |          | 
 dPar                  | numeric(10,3)               |           |          | 
 dParUncertainty       | numeric(10,3)               |           |          | 
 pChi2                 | numeric(10,2)               |           |          | 
 dispersion            | numeric(10,4)               |           |          | 
 pooledAgeMa           | numeric(10,2)               |           |          | 
 pooledAgeUncertainty  | numeric(10,2)               |           |          | 
 centralAgeMa          | numeric(10,2)               |           |          | 
 centralAgeUncertainty | numeric(10,2)               |           |          | 
 mtl                   | numeric(10,3)               |           |          | 
 mtlUncertainty        | numeric(10,3)               |           |          | 
 stdDevMu              | numeric(10,3)               |           |          | 
 nTracks               | integer                     |           |          | 
 sigmaP                | numeric(10,4)               |           |          | 
 sigmaPError           | numeric(10,4)               |           |          | 
 zeta                  | numeric(12,4)               |           |          | 
 zetaUncertainty       | numeric(12,4)               |           |          | 
 createdAt             | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updatedAt             | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "earthbank_ftDatapoints_pkey" PRIMARY KEY, btree (id)
    "earthbank_ftDatapoints_datapointName_key" UNIQUE CONSTRAINT, btree ("datapointName")
    "idx_ftDatapoints_centralAgeMa" btree ("centralAgeMa")
    "idx_ftDatapoints_datapointName" btree ("datapointName")
    "idx_ftDatapoints_pooledAgeMa" btree ("pooledAgeMa")
    "idx_ftDatapoints_sampleID" btree ("sampleID")
Foreign-key constraints:
    "earthbank_ftDatapoints_sampleID_fkey" FOREIGN KEY ("sampleID") REFERENCES earthbank_samples("sampleID") ON DELETE CASCADE
Referenced by:
    TABLE ""earthbank_ftTrackLengthData"" CONSTRAINT "earthbank_ftTrackLengthData_datapointName_fkey" FOREIGN KEY ("datapointName") REFERENCES "earthbank_ftDatapoints"("datapointName") ON DELETE CASCADE


-- Table: earthbank_ftTrackLengthData
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                       Table "public.earthbank_ftTrackLengthData"
    Column     |            Type             | Collation | Nullable |      Default       
---------------+-----------------------------+-----------+----------+--------------------
 id            | uuid                        |           | not null | uuid_generate_v4()
 datapointName | character varying(255)      |           | not null | 
 sampleID      | character varying(255)      |           |          | 
 grainName     | character varying(100)      |           |          | 
 trackID       | character varying(100)      |           |          | 
 trackType     | character varying(100)      |           |          | 
 lengthUm      | numeric(10,3)               |           |          | 
 cAxisAngleDeg | numeric(10,2)               |           |          | 
 dPar          | numeric(10,3)               |           |          | 
 createdAt     | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "earthbank_ftTrackLengthData_pkey" PRIMARY KEY, btree (id)
    "idx_ftTrackLengthData_datapointName" btree ("datapointName")
    "idx_ftTrackLengthData_lengthUm" btree ("lengthUm")
Foreign-key constraints:
    "earthbank_ftTrackLengthData_datapointName_fkey" FOREIGN KEY ("datapointName") REFERENCES "earthbank_ftDatapoints"("datapointName") ON DELETE CASCADE


-- Table: earthbank_heDatapoints
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                 Table "public.earthbank_heDatapoints"
           Column            |            Type             | Collation | Nullable |      Default       
-----------------------------+-----------------------------+-----------+----------+--------------------
 id                          | uuid                        |           | not null | uuid_generate_v4()
 datapointName               | character varying(255)      |           | not null | 
 sampleID                    | character varying(255)      |           | not null | 
 ftMethod                    | character varying(100)      |           |          | 
 laboratory                  | character varying(255)      |           |          | 
 analyst                     | character varying(255)      |           |          | 
 analysisDate                | timestamp without time zone |           |          | 
 nGrains                     | integer                     |           |          | 
 meanCorrectedAgeMa          | numeric(10,2)               |           |          | 
 meanCorrectedAgeUncertainty | numeric(10,2)               |           |          | 
 meanUncorrectedAgeMa        | numeric(10,2)               |           |          | 
 notes                       | text                        |           |          | 
 createdAt                   | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updatedAt                   | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "earthbank_heDatapoints_pkey" PRIMARY KEY, btree (id)
    "earthbank_heDatapoints_datapointName_key" UNIQUE CONSTRAINT, btree ("datapointName")
    "idx_heDatapoints_datapointName" btree ("datapointName")
    "idx_heDatapoints_meanCorrectedAgeMa" btree ("meanCorrectedAgeMa")
    "idx_heDatapoints_sampleID" btree ("sampleID")
Foreign-key constraints:
    "earthbank_heDatapoints_sampleID_fkey" FOREIGN KEY ("sampleID") REFERENCES earthbank_samples("sampleID") ON DELETE CASCADE
Referenced by:
    TABLE ""earthbank_heWholeGrainData"" CONSTRAINT "earthbank_heWholeGrainData_datapointName_fkey" FOREIGN KEY ("datapointName") REFERENCES "earthbank_heDatapoints"("datapointName") ON DELETE CASCADE


-- Table: earthbank_heWholeGrainData
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                               Table "public.earthbank_heWholeGrainData"
           Column            |            Type             | Collation | Nullable |      Default       
-----------------------------+-----------------------------+-----------+----------+--------------------
 id                          | uuid                        |           | not null | uuid_generate_v4()
 datapointName               | character varying(255)      |           | not null | 
 sampleID                    | character varying(255)      |           |          | 
 grainName                   | character varying(100)      |           | not null | 
 correctedHeAge              | numeric(10,2)               |           |          | 
 correctedHeAgeUncertainty   | numeric(10,2)               |           |          | 
 uncorrectedHeAge            | numeric(10,2)               |           |          | 
 uncorrectedHeAgeUncertainty | numeric(10,2)               |           |          | 
 ft                          | numeric(10,4)               |           |          | 
 ftU238                      | numeric(10,4)               |           |          | 
 ftU235                      | numeric(10,4)               |           |          | 
 ftTh232                     | numeric(10,4)               |           |          | 
 ftSm147                     | numeric(10,4)               |           |          | 
 he4Concentration            | numeric(15,6)               |           |          | 
 he4ConcentrationUncertainty | numeric(15,6)               |           |          | 
 heNmolG                     | numeric(15,6)               |           |          | 
 heNmolGUncertainty          | numeric(15,6)               |           |          | 
 uConcentration              | numeric(10,2)               |           |          | 
 uConcentrationUncertainty   | numeric(10,2)               |           |          | 
 uNg                         | numeric(15,6)               |           |          | 
 uNgUncertainty              | numeric(15,6)               |           |          | 
 thConcentration             | numeric(10,2)               |           |          | 
 thConcentrationUncertainty  | numeric(10,2)               |           |          | 
 thNg                        | numeric(15,6)               |           |          | 
 thNgUncertainty             | numeric(15,6)               |           |          | 
 smConcentration             | numeric(10,2)               |           |          | 
 smConcentrationUncertainty  | numeric(10,2)               |           |          | 
 smNg                        | numeric(15,6)               |           |          | 
 smNgUncertainty             | numeric(15,6)               |           |          | 
 eU                          | numeric(10,2)               |           |          | 
 eUUncertainty               | numeric(10,2)               |           |          | 
 rsUm                        | numeric(12,3)               |           |          | 
 massMg                      | numeric(12,6)               |           |          | 
 geometry                    | character varying(100)      |           |          | 
 lengthUm                    | numeric(12,3)               |           |          | 
 widthUm                     | numeric(12,3)               |           |          | 
 numPits                     | integer                     |           |          | 
 createdAt                   | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "earthbank_heWholeGrainData_pkey" PRIMARY KEY, btree (id)
    "earthbank_heWholeGrainData_datapointName_grainName_key" UNIQUE CONSTRAINT, btree ("datapointName", "grainName")
    "idx_heWholeGrainData_correctedHeAge" btree ("correctedHeAge")
    "idx_heWholeGrainData_datapointName" btree ("datapointName")
    "idx_heWholeGrainData_eU" btree ("eU")
Foreign-key constraints:
    "earthbank_heWholeGrainData_datapointName_fkey" FOREIGN KEY ("datapointName") REFERENCES "earthbank_heDatapoints"("datapointName") ON DELETE CASCADE

-- Table: earthbank_samples
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                               Table "public.earthbank_samples"
       Column        |            Type             | Collation | Nullable |      Default       
---------------------+-----------------------------+-----------+----------+--------------------
 id                  | uuid                        |           | not null | uuid_generate_v4()
 sampleID            | character varying(255)      |           | not null | 
 IGSN                | character varying(20)       |           |          | 
 latitude            | numeric(10,6)               |           |          | 
 longitude           | numeric(10,6)               |           |          | 
 elevationM          | numeric(10,2)               |           |          | 
 geodeticDatum       | character varying(50)       |           |          | 
 verticalDatum       | character varying(50)       |           |          | 
 mineral             | character varying(100)      |           |          | 
 mineralType         | character varying(100)      |           |          | 
 lithology           | character varying(100)      |           |          | 
 sampleKind          | character varying(100)      |           |          | 
 sampleAgeMa         | numeric(10,2)               |           |          | 
 collector           | character varying(255)      |           |          | 
 collectionDate      | date                        |           |          | 
 collectionYear      | integer                     |           |          | 
 datasetID           | character varying(100)      |           |          | 
 nAFTGrains          | integer                     |           |          | 
 nAHeGrains          | integer                     |           |          | 
 quadrangle          | character varying(255)      |           |          | 
 faultBlock          | character varying(100)      |           |          | 
 igneousAgeMa        | numeric(10,2)               |           |          | 
 igneousAgeErrorMa   | numeric(10,2)               |           |          | 
 project             | character varying(255)      |           |          | 
 country             | character varying(100)      |           |          | 
 stateProvince       | character varying(100)      |           |          | 
 locationDescription | text                        |           |          | 
 createdAt           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updatedAt           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "earthbank_samples_pkey" PRIMARY KEY, btree (id)
    "earthbank_samples_IGSN_key" UNIQUE CONSTRAINT, btree ("IGSN")
    "earthbank_samples_sampleID_key" UNIQUE CONSTRAINT, btree ("sampleID")
    "idx_samples_IGSN" btree ("IGSN")
    "idx_samples_datasetID" btree ("datasetID")
    "idx_samples_location" btree (latitude, longitude)
    "idx_samples_sampleID" btree ("sampleID")
Referenced by:
    TABLE ""earthbank_ftDatapoints"" CONSTRAINT "earthbank_ftDatapoints_sampleID_fkey" FOREIGN KEY ("sampleID") REFERENCES earthbank_samples("sampleID") ON DELETE CASCADE
    TABLE ""earthbank_heDatapoints"" CONSTRAINT "earthbank_heDatapoints_sampleID_fkey" FOREIGN KEY ("sampleID") REFERENCES earthbank_samples("sampleID") ON DELETE CASCADE


-- Table: extraction_sessions
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                               Table "public.extraction_sessions"
          Column          |           Type           | Collation | Nullable |      Default       
--------------------------+--------------------------+-----------+----------+--------------------
 id                       | uuid                     |           | not null | uuid_generate_v4()
 session_id               | text                     |           | not null | 
 pdf_filename             | text                     |           | not null | 
 pdf_path                 | text                     |           | not null | 
 pdf_size_bytes           | bigint                   |           | not null | 
 state                    | text                     |           | not null | 'uploaded'::text
 current_step             | integer                  |           |          | 1
 paper_metadata           | jsonb                    |           |          | 
 tables_found             | integer                  |           |          | 
 data_types               | text[]                   |           |          | 
 csvs_extracted           | integer                  |           |          | 
 extraction_quality_score | integer                  |           |          | 
 failed_tables            | text[]                   |           |          | 
 dataset_id               | integer                  |           |          | 
 fair_score               | integer                  |           |          | 
 records_imported         | integer                  |           |          | 
 user_id                  | text                     |           |          | 
 created_at               | timestamp with time zone |           |          | now()
 updated_at               | timestamp with time zone |           |          | now()
 completed_at             | timestamp with time zone |           |          | 
 error_message            | text                     |           |          | 
 error_stage              | text                     |           |          | 
Indexes:
    "extraction_sessions_pkey" PRIMARY KEY, btree (id)
    "extraction_sessions_session_id_key" UNIQUE CONSTRAINT, btree (session_id)
    "idx_extraction_sessions_created_at" btree (created_at DESC)
    "idx_extraction_sessions_session_id" btree (session_id)
    "idx_extraction_sessions_state" btree (state)
Foreign-key constraints:
    "extraction_sessions_dataset_id_fkey" FOREIGN KEY (dataset_id) REFERENCES datasets(id)


-- Table: fair_score_breakdown
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                               Table "public.fair_score_breakdown"
          Column          |            Type             | Collation | Nullable |                     Default                      
--------------------------+-----------------------------+-----------+----------+--------------------------------------------------
 id                       | integer                     |           | not null | nextval('fair_score_breakdown_id_seq'::regclass)
 dataset_id               | integer                     |           |          | 
 findable_score           | integer                     |           |          | 0
 has_persistent_id        | boolean                     |           |          | false
 has_descriptive_metadata | boolean                     |           |          | false
 has_keywords             | boolean                     |           |          | false
 accessible_score         | integer                     |           |          | 0
 has_open_access          | boolean                     |           |          | false
 has_standard_protocol    | boolean                     |           |          | false
 interoperable_score      | integer                     |           |          | 0
 uses_standard_format     | boolean                     |           |          | false
 uses_controlled_vocab    | boolean                     |           |          | false
 has_field_definitions    | boolean                     |           |          | false
 reusable_score           | integer                     |           |          | 0
 has_license              | boolean                     |           |          | false
 has_provenance           | boolean                     |           |          | false
 has_qc_metrics           | boolean                     |           |          | false
 total_score              | integer                     |           |          | 0
 created_at               | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updated_at               | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "fair_score_breakdown_pkey" PRIMARY KEY, btree (id)
    "fair_score_breakdown_dataset_id_key" UNIQUE CONSTRAINT, btree (dataset_id)
    "idx_fair_score_dataset" btree (dataset_id)
Foreign-key constraints:
    "fair_score_breakdown_dataset_id_fkey" FOREIGN KEY (dataset_id) REFERENCES datasets(id) ON DELETE CASCADE


-- Table: ft_binned_length_data
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                              Table "public.ft_binned_length_data"
        Column         |            Type             | Collation | Nullable |                      Default                      
-----------------------+-----------------------------+-----------+----------+---------------------------------------------------
 id                    | integer                     |           | not null | nextval('ft_binned_length_data_id_seq'::regclass)
 ft_datapoint_id       | integer                     |           | not null | 
 mount_id              | character varying(50)       |           |          | 
 etch_duration_seconds | integer                     |           |          | 
 bin_0_1_um            | integer                     |           |          | 
 bin_1_2_um            | integer                     |           |          | 
 bin_2_3_um            | integer                     |           |          | 
 bin_3_4_um            | integer                     |           |          | 
 bin_4_5_um            | integer                     |           |          | 
 bin_5_6_um            | integer                     |           |          | 
 bin_6_7_um            | integer                     |           |          | 
 bin_7_8_um            | integer                     |           |          | 
 bin_8_9_um            | integer                     |           |          | 
 bin_9_10_um           | integer                     |           |          | 
 bin_10_11_um          | integer                     |           |          | 
 bin_11_12_um          | integer                     |           |          | 
 bin_12_13_um          | integer                     |           |          | 
 bin_13_14_um          | integer                     |           |          | 
 bin_14_15_um          | integer                     |           |          | 
 bin_15_16_um          | integer                     |           |          | 
 bin_16_17_um          | integer                     |           |          | 
 bin_17_18_um          | integer                     |           |          | 
 bin_18_19_um          | integer                     |           |          | 
 bin_19_20_um          | integer                     |           |          | 
 dpar_um               | numeric(6,3)                |           |          | 
 dpar_error_um         | numeric(6,3)                |           |          | 
 n_dpar_measurements   | integer                     |           |          | 
 dper_um               | numeric(6,3)                |           |          | 
 dper_error_um         | numeric(6,3)                |           |          | 
 n_dper_measurements   | integer                     |           |          | 
 dpar_dper_error_type  | character varying(20)       |           |          | 
 comments              | text                        |           |          | 
 created_at            | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "ft_binned_length_data_pkey" PRIMARY KEY, btree (id)
    "idx_ft_binned_length_datapoint" btree (ft_datapoint_id)
Foreign-key constraints:
    "ft_binned_length_data_ft_datapoint_id_fkey" FOREIGN KEY (ft_datapoint_id) REFERENCES ft_datapoints(id) ON DELETE CASCADE


-- Table: ft_count_data
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                             Table "public.ft_count_data"
        Column        |            Type             | Collation | Nullable |                  Default                  
----------------------+-----------------------------+-----------+----------+-------------------------------------------
 id                   | integer                     |           | not null | nextval('ft_count_data_id_seq'::regclass)
 ft_datapoint_id      | integer                     |           | not null | 
 grain_id             | character varying(100)      |           | not null | 
 counting_area_cm2    | numeric(10,6)               |           |          | 
 ns                   | integer                     |           |          | 
 rho_s_cm2            | numeric(12,2)               |           |          | 
 ni                   | integer                     |           |          | 
 rho_i_cm2            | numeric(12,2)               |           |          | 
 nd                   | integer                     |           |          | 
 rho_d_cm2            | numeric(12,2)               |           |          | 
 dpar_um              | numeric(6,3)                |           |          | 
 dpar_error_um        | numeric(6,3)                |           |          | 
 n_dpar_measurements  | integer                     |           |          | 
 dper_um              | numeric(6,3)                |           |          | 
 dper_error_um        | numeric(6,3)                |           |          | 
 n_dper_measurements  | integer                     |           |          | 
 dpar_dper_error_type | character varying(20)       |           |          | 
 comments             | text                        |           |          | 
 created_at           | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "ft_count_data_pkey" PRIMARY KEY, btree (id)
    "ft_count_data_ft_datapoint_id_grain_id_key" UNIQUE CONSTRAINT, btree (ft_datapoint_id, grain_id)
    "idx_ft_count_data_datapoint" btree (ft_datapoint_id)
    "idx_ft_count_data_grain" btree (grain_id)
Foreign-key constraints:
    "ft_count_data_ft_datapoint_id_fkey" FOREIGN KEY (ft_datapoint_id) REFERENCES ft_datapoints(id) ON DELETE CASCADE


-- Table: ft_datapoints
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                               Table "public.ft_datapoints"
         Column          |            Type             | Collation | Nullable |                  Default                  
-------------------------+-----------------------------+-----------+----------+-------------------------------------------
 id                      | integer                     |           | not null | nextval('ft_datapoints_id_seq'::regclass)
 sample_id               | character varying(50)       |           | not null | 
 datapoint_key           | character varying(100)      |           | not null | 
 batch_id                | integer                     |           |          | 
 laboratory              | character varying(200)      |           |          | 
 analyst_orcid           | character varying(50)       |           |          | 
 analysis_date           | timestamp without time zone |           |          | 
 publication_doi         | character varying(100)      |           |          | 
 mineral_type            | character varying(50)       |           |          | 
 ft_method               | character varying(50)       |           |          | 
 ft_software             | character varying(100)      |           |          | 
 ft_algorithm            | character varying(50)       |           |          | 
 u_determination_method  | character varying(100)      |           |          | 
 n_grains                | integer                     |           |          | 
 total_area_cm2          | numeric(10,6)               |           |          | 
 mean_rho_s              | numeric(12,2)               |           |          | 
 total_ns                | integer                     |           |          | 
 mean_rho_i              | numeric(12,2)               |           |          | 
 total_ni                | integer                     |           |          | 
 mean_rho_d              | numeric(12,2)               |           |          | 
 total_nd                | integer                     |           |          | 
 dosimeter               | character varying(50)       |           |          | 
 mean_u_ppm              | numeric(10,3)               |           |          | 
 sd_u_ppm                | numeric(10,3)               |           |          | 
 mean_dpar_um            | numeric(6,3)                |           |          | 
 se_dpar_um              | numeric(6,3)                |           |          | 
 n_dpar_measurements     | integer                     |           |          | 
 mean_dper_um            | numeric(6,3)                |           |          | 
 se_dper_um              | numeric(6,3)                |           |          | 
 n_dper_measurements     | integer                     |           |          | 
 mean_rmr0               | numeric(6,4)                |           |          | 
 sd_rmr0                 | numeric(6,4)                |           |          | 
 mean_kappa              | numeric(6,4)                |           |          | 
 sd_kappa                | numeric(6,4)                |           |          | 
 rmr0_equation           | character varying(100)      |           |          | 
 chi_square              | numeric(12,6)               |           |          | 
 p_chi2_pct              | numeric(6,3)                |           |          | 
 dispersion_pct          | numeric(6,4)                |           |          | 
 age_equation            | character varying(100)      |           |          | 
 mean_age_ma             | numeric(10,2)               |           |          | 
 mean_age_error_ma       | numeric(10,2)               |           |          | 
 central_age_ma          | numeric(10,2)               |           |          | 
 central_age_error_ma    | numeric(10,2)               |           |          | 
 pooled_age_ma           | numeric(10,2)               |           |          | 
 pooled_age_error_ma     | numeric(10,2)               |           |          | 
 population_age_ma       | numeric(10,2)               |           |          | 

-- Table: ft_single_grain_ages
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                              Table "public.ft_single_grain_ages"
        Column         |            Type             | Collation | Nullable |                     Default                      
-----------------------+-----------------------------+-----------+----------+--------------------------------------------------
 id                    | integer                     |           | not null | nextval('ft_single_grain_ages_id_seq'::regclass)
 ft_datapoint_id       | integer                     |           | not null | 
 grain_id              | character varying(100)      |           | not null | 
 mount_id              | character varying(50)       |           |          | 
 etch_duration_seconds | integer                     |           |          | 
 u_ppm                 | numeric(10,3)               |           |          | 
 u_ppm_error           | numeric(10,3)               |           |          | 
 u_ca_ratio            | numeric(10,6)               |           |          | 
 u_ca_ratio_error      | numeric(10,6)               |           |          | 
 u_ca_error_type       | character varying(20)       |           |          | 
 rmr0                  | numeric(6,4)                |           |          | 
 kappa                 | numeric(6,4)                |           |          | 
 grain_age_ma          | numeric(10,2)               |           |          | 
 grain_age_error_ma    | numeric(10,2)               |           |          | 
 grain_age_error_type  | character varying(20)       |           |          | 
 comments              | text                        |           |          | 
 created_at            | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "ft_single_grain_ages_pkey" PRIMARY KEY, btree (id)
    "ft_single_grain_ages_ft_datapoint_id_grain_id_key" UNIQUE CONSTRAINT, btree (ft_datapoint_id, grain_id)
    "idx_ft_single_grain_datapoint" btree (ft_datapoint_id)
    "idx_ft_single_grain_grain" btree (grain_id)
Foreign-key constraints:
    "ft_single_grain_ages_ft_datapoint_id_fkey" FOREIGN KEY (ft_datapoint_id) REFERENCES ft_datapoints(id) ON DELETE CASCADE


-- Table: ft_track_length_data
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                                Table "public.ft_track_length_data"
           Column           |            Type             | Collation | Nullable |                     Default                      
----------------------------+-----------------------------+-----------+----------+--------------------------------------------------
 id                         | integer                     |           | not null | nextval('ft_track_length_data_id_seq'::regclass)
 ft_datapoint_id            | integer                     |           | not null | 
 grain_id                   | character varying(100)      |           | not null | 
 track_id                   | character varying(100)      |           | not null | 
 track_type                 | character varying(20)       |           |          | 
 mount_id                   | character varying(50)       |           |          | 
 etch_duration_seconds      | integer                     |           |          | 
 apparent_length_um         | numeric(6,3)                |           |          | 
 corrected_z_depth_um       | numeric(8,2)                |           |          | 
 true_length_um             | numeric(6,3)                |           |          | 
 azimuth_deg                | numeric(6,2)                |           |          | 
 dip_deg                    | numeric(6,2)                |           |          | 
 angle_to_c_axis_deg        | numeric(6,2)                |           |          | 
 c_axis_corrected_length_um | numeric(6,3)                |           |          | 
 dpar_um                    | numeric(6,3)                |           |          | 
 dpar_error_um              | numeric(6,3)                |           |          | 
 n_dpar_measurements        | integer                     |           |          | 
 dper_um                    | numeric(6,3)                |           |          | 
 dper_error_um              | numeric(6,3)                |           |          | 
 n_dper_measurements        | integer                     |           |          | 
 dpar_dper_error_type       | character varying(20)       |           |          | 
 rmr0                       | numeric(6,4)                |           |          | 
 kappa                      | numeric(6,4)                |           |          | 
 comments                   | text                        |           |          | 
 created_at                 | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "ft_track_length_data_pkey" PRIMARY KEY, btree (id)
    "ft_track_length_data_ft_datapoint_id_grain_id_track_id_key" UNIQUE CONSTRAINT, btree (ft_datapoint_id, grain_id, track_id)
    "idx_ft_track_length_datapoint" btree (ft_datapoint_id)
    "idx_ft_track_length_grain" btree (grain_id)
    "idx_ft_track_length_mtl" btree (true_length_um)
Check constraints:
    "check_track_type" CHECK (track_type::text = ANY (ARRAY['TINT'::character varying, 'TINCLE'::character varying, 'semi-track'::character varying, NULL::character varying]::text[]))
Foreign-key constraints:
    "ft_track_length_data_ft_datapoint_id_fkey" FOREIGN KEY (ft_datapoint_id) REFERENCES ft_datapoints(id) ON DELETE CASCADE


-- Table: grains
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                           Table "public.grains"
      Column      |            Type             | Collation | Nullable |              Default               
------------------+-----------------------------+-----------+----------+------------------------------------
 id               | integer                     |           | not null | nextval('grains_id_seq'::regclass)
 grain_id         | character varying(100)      |           | not null | 
 mount_id         | character varying(50)       |           |          | 
 grain_identifier | character varying(100)      |           |          | 
 grain_morphology | character varying(50)       |           |          | 
 grain_quality    | character varying(50)       |           |          | 
 created_at       | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "grains_pkey" PRIMARY KEY, btree (id)
    "grains_grain_id_key" UNIQUE CONSTRAINT, btree (grain_id)
    "idx_grains_grain_id" btree (grain_id)
    "idx_grains_mount" btree (mount_id)
Foreign-key constraints:
    "grains_mount_id_fkey" FOREIGN KEY (mount_id) REFERENCES mounts(mount_id) ON DELETE SET NULL


-- Table: he_datapoints
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                                     Table "public.he_datapoints"
               Column                |            Type             | Collation | Nullable |                  Default                  
-------------------------------------+-----------------------------+-----------+----------+-------------------------------------------
 id                                  | integer                     |           | not null | nextval('he_datapoints_id_seq'::regclass)
 sample_id                           | character varying(50)       |           | not null | 
 datapoint_key                       | character varying(100)      |           | not null | 
 batch_id                            | integer                     |           |          | 
 laboratory                          | character varying(200)      |           |          | 
 analyst_orcid                       | character varying(50)       |           |          | 
 analysis_date                       | timestamp without time zone |           |          | 
 publication_doi                     | character varying(100)      |           |          | 
 mineral_type                        | character varying(50)       |           |          | 
 mount_id                            | character varying(50)       |           |          | 
 n_aliquots                          | integer                     |           |          | 
 mean_uncorr_age_ma                  | numeric(10,2)               |           |          | 
 mean_uncorr_age_error_ma            | numeric(10,2)               |           |          | 
 mean_uncorr_age_error_type          | character varying(20)       |           |          | 
 weighted_mean_uncorr_age_ma         | numeric(10,2)               |           |          | 
 weighted_mean_uncorr_age_error_ma   | numeric(10,2)               |           |          | 
 weighted_mean_uncorr_age_error_type | character varying(20)       |           |          | 
 mswd_uncorr                         | numeric(8,4)                |           |          | 
 conf95_uncorr_ma                    | numeric(10,2)               |           |          | 
 chi2_uncorr_pct                     | numeric(6,3)                |           |          | 
 iqr_uncorr_ma                       | numeric(10,2)               |           |          | 
 mean_corr_age_ma                    | numeric(10,2)               |           |          | 
 mean_corr_age_error_ma              | numeric(10,2)               |           |          | 
 mean_corr_age_error_type            | character varying(20)       |           |          | 
 weighted_mean_corr_age_ma           | numeric(10,2)               |           |          | 
 weighted_mean_corr_age_error_ma     | numeric(10,2)               |           |          | 
 weighted_mean_corr_age_error_type   | character varying(20)       |           |          | 
 mswd_corr                           | numeric(8,4)                |           |          | 
 conf95_corr_ma                      | numeric(10,2)               |           |          | 
 chi2_corr_pct                       | numeric(6,3)                |           |          | 
 iqr_corr_ma                         | numeric(10,2)               |           |          | 
 uncertainty_description             | text                        |           |          | 
 ablation_pit_volume_method          | character varying(100)      |           |          | 
 ablation_pit_volume_software        | character varying(100)      |           |          | 
 he_measurement_method               | character varying(100)      |           |          | 
 parent_isotope_method               | character varying(100)      |           |          | 
 surface_area_volume_equation        | character varying(100)      |           |          | 
 alpha_stopping_distance_ref         | character varying(200)      |           |          | 
 ft_correction_equation              | character varying(100)      |           |          | 
 esr_sa_v_equation                   | character varying(100)      |           |          | 
 esr_ft_equation                     | character varying(100)      |           |          | 
 eu_equation                         | character varying(100)      |           |          | 
 he_age_approach                     | character varying(100)      |           |          | 
 corr_age_method                     | character varying(100)      |           |          | 
 created_at                          | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:

-- Table: he_whole_grain_data
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                                 Table "public.he_whole_grain_data"
           Column            |            Type             | Collation | Nullable |                     Default                     
-----------------------------+-----------------------------+-----------+----------+-------------------------------------------------
 id                          | integer                     |           | not null | nextval('he_whole_grain_data_id_seq'::regclass)
 he_datapoint_id             | integer                     |           | not null | 
 lab_no                      | character varying(50)       |           |          | 
 grain_identifier            | character varying(100)      |           |          | 
 aliquot_type                | character varying(20)       |           |          | 
 n_grains_in_aliquot         | integer                     |           |          | 
 crystal_integrity           | character varying(20)       |           |          | 
 grain_morphology            | character varying(50)       |           |          | 
 assumed_geometry            | character varying(50)       |           |          | 
 length_um                   | numeric(10,2)               |           |          | 
 length_um_sd                | numeric(10,2)               |           |          | 
 half_width_um               | numeric(10,2)               |           |          | 
 width_um_sd                 | numeric(10,2)               |           |          | 
 height_um                   | numeric(10,2)               |           |          | 
 height_um_sd                | numeric(10,2)               |           |          | 
 measurement_method          | character varying(100)      |           |          | 
 crystal_faces_measured      | character varying(200)      |           |          | 
 he_ncc                      | numeric(12,6)               |           |          | 
 he_measurement_method       | character varying(100)      |           |          | 
 he_extraction_temperature_c | numeric(6,2)                |           |          | 
 he_extraction_duration_min  | integer                     |           |          | 
 he_extraction_method        | character varying(100)      |           |          | 
 he_blank_ncc                | numeric(12,6)               |           |          | 
 he_blank_error_ncc          | numeric(12,6)               |           |          | 
 u_ppm                       | numeric(10,3)               |           |          | 
 u_ppm_error                 | numeric(10,3)               |           |          | 
 th_ppm                      | numeric(10,3)               |           |          | 
 th_ppm_error                | numeric(10,3)               |           |          | 
 sm_ppm                      | numeric(10,3)               |           |          | 
 sm_ppm_error                | numeric(10,3)               |           |          | 
 eu_ppm                      | numeric(10,3)               |           |          | 
 u_measurement_method        | character varying(100)      |           |          | 
 u_blank_ppm                 | numeric(10,6)               |           |          | 
 th_blank_ppm                | numeric(10,6)               |           |          | 
 sm_blank_ppm                | numeric(10,6)               |           |          | 
 spike_u238_u235_ratio       | numeric(10,6)               |           |          | 
 spike_th232_th229_ratio     | numeric(10,6)               |           |          | 
 mass_mg                     | numeric(10,6)               |           |          | 
 surface_area_mm2            | numeric(10,6)               |           |          | 
 volume_mm3                  | numeric(10,6)               |           |          | 
 sa_v_ratio                  | numeric(10,6)               |           |          | 
 rs_um                       | numeric(10,2)               |           |          | 
 esr_sa_v_um                 | numeric(10,2)               |           |          | 
 esr_ft_um                   | numeric(10,2)               |           |          | 
 sa_v_calc_equation          | character varying(100)      |           |          | 
 ft_correction_equation      | character varying(100)      |           |          | 

-- Table: mounts
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                              Table "public.mounts"
        Column         |            Type             | Collation | Nullable |              Default               
-----------------------+-----------------------------+-----------+----------+------------------------------------
 id                    | integer                     |           | not null | nextval('mounts_id_seq'::regclass)
 mount_id              | character varying(50)       |           | not null | 
 mount_name            | character varying(200)      |           |          | 
 mount_date            | date                        |           |          | 
 sample_id             | character varying(50)       |           |          | 
 etchant_chemical      | character varying(100)      |           |          | 
 etch_duration_seconds | integer                     |           |          | 
 etch_temperature_c    | numeric(5,2)                |           |          | 
 created_at            | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "mounts_pkey" PRIMARY KEY, btree (id)
    "idx_mounts_mount_id" btree (mount_id)
    "idx_mounts_sample" btree (sample_id)
    "mounts_mount_id_key" UNIQUE CONSTRAINT, btree (mount_id)
Foreign-key constraints:
    "mounts_sample_id_fkey" FOREIGN KEY (sample_id) REFERENCES samples(sample_id) ON DELETE SET NULL
Referenced by:
    TABLE "grains" CONSTRAINT "grains_mount_id_fkey" FOREIGN KEY (mount_id) REFERENCES mounts(mount_id) ON DELETE SET NULL


-- Table: people
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                         Table "public.people"
   Column    |            Type             | Collation | Nullable |              Default               
-------------+-----------------------------+-----------+----------+------------------------------------
 id          | integer                     |           | not null | nextval('people_id_seq'::regclass)
 orcid       | character varying(50)       |           |          | 
 name        | character varying(200)      |           | not null | 
 email       | character varying(200)      |           |          | 
 affiliation | character varying(300)      |           |          | 
 created_at  | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "people_pkey" PRIMARY KEY, btree (id)
    "idx_people_name" btree (name)
    "idx_people_orcid" btree (orcid) WHERE orcid IS NOT NULL
    "people_orcid_key" UNIQUE CONSTRAINT, btree (orcid)
Check constraints:
    "check_orcid_or_name" CHECK (orcid IS NOT NULL OR name IS NOT NULL)
Referenced by:
    TABLE "datapoint_people_roles" CONSTRAINT "datapoint_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE
    TABLE "dataset_people_roles" CONSTRAINT "dataset_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE
    TABLE "sample_people_roles" CONSTRAINT "sample_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE


-- Table: reference_materials
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                              Table "public.reference_materials"
        Column         |            Type             | Collation | Nullable |                     Default                     
-----------------------+-----------------------------+-----------+----------+-------------------------------------------------
 id                    | integer                     |           | not null | nextval('reference_materials_id_seq'::regclass)
 batch_id              | integer                     |           | not null | 
 material_name         | character varying(100)      |           | not null | 
 material_type         | character varying(50)       |           |          | 
 expected_age_ma       | numeric(10,2)               |           |          | 
 expected_age_error_ma | numeric(10,2)               |           |          | 
 measured_age_ma       | numeric(10,2)               |           |          | 
 measured_age_error_ma | numeric(10,2)               |           |          | 
 parameter_type        | character varying(50)       |           |          | 
 measured_value        | numeric(15,6)               |           |          | 
 expected_value        | numeric(15,6)               |           |          | 
 error                 | numeric(15,6)               |           |          | 
 created_at            | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "reference_materials_pkey" PRIMARY KEY, btree (id)
    "idx_ref_materials_batch" btree (batch_id)
    "idx_ref_materials_name" btree (material_name)
Foreign-key constraints:
    "reference_materials_batch_id_fkey" FOREIGN KEY (batch_id) REFERENCES batches(id) ON DELETE CASCADE


-- Table: sample_people_roles
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                        Table "public.sample_people_roles"
   Column   |            Type             | Collation | Nullable |                     Default                     
------------+-----------------------------+-----------+----------+-------------------------------------------------
 id         | integer                     |           | not null | nextval('sample_people_roles_id_seq'::regclass)
 sample_id  | character varying(50)       |           | not null | 
 person_id  | integer                     |           | not null | 
 role       | character varying(50)       |           | not null | 
 created_at | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "sample_people_roles_pkey" PRIMARY KEY, btree (id)
    "idx_sample_people_person" btree (person_id)
    "idx_sample_people_sample" btree (sample_id)
    "sample_people_roles_sample_id_person_id_role_key" UNIQUE CONSTRAINT, btree (sample_id, person_id, role)
Foreign-key constraints:
    "sample_people_roles_person_id_fkey" FOREIGN KEY (person_id) REFERENCES people(id) ON DELETE CASCADE
    "sample_people_roles_sample_id_fkey" FOREIGN KEY (sample_id) REFERENCES samples(sample_id) ON DELETE CASCADE


-- Table: samples
ðŸ”— Connecting to: postgresql://postgres.ggkrikijxollyolifdqs:***@aws-1-ap-southeast-1.pooler.supabase.com:6543/postgres
                                                  Table "public.samples"
            Column             |            Type             | Collation | Nullable |               Default               
-------------------------------+-----------------------------+-----------+----------+-------------------------------------
 sample_id                     | character varying(50)       |           | not null | 
 dataset_id                    | integer                     |           |          | 1
 igsn                          | character varying(20)       |           |          | 
 sample_kind                   | character varying(100)      |           |          | 
 sample_collection_method      | character varying(100)      |           |          | 
 sample_kind_additional_info   | text                        |           |          | 
 latitude                      | numeric(10,7)               |           |          | 
 longitude                     | numeric(10,7)               |           |          | 
 geodetic_datum                | character varying(20)       |           |          | 'WGS84'::character varying
 lat_long_precision_m          | integer                     |           |          | 
 lat_long_precision_method     | character varying(100)      |           |          | 
 elevation_m                   | numeric(8,2)                |           |          | 
 vertical_datum                | character varying(50)       |           |          | 'mean sea level'::character varying
 elevation_accuracy_m          | numeric(8,2)                |           |          | 
 elevation_additional_info     | text                        |           |          | 
 depth_min_m                   | numeric(10,2)               |           |          | 0
 depth_max_m                   | numeric(10,2)               |           |          | 0
 depth_accuracy_m              | numeric(6,2)                |           |          | 
 location_kind                 | character varying(100)      |           |          | 
 location_name                 | character varying(200)      |           |          | 
 location_description          | text                        |           |          | 
 sampling_location_information | text                        |           |          | 
 lithology                     | character varying(100)      |           |          | 
 mineral_type                  | character varying(50)       |           |          | 
 stratigraphic_unit            | character varying(200)      |           |          | 
 chronostratigraphic_unit_age  | character varying(100)      |           |          | 
 chronostrat_age_min_ma        | numeric(10,2)               |           |          | 
 chronostrat_age_max_ma        | numeric(10,2)               |           |          | 
 sample_age_ma                 | numeric(10,2)               |           |          | 
 stratigraphic_info            | text                        |           |          | 
 collection_date_min           | date                        |           |          | 
 collection_date_max           | date                        |           |          | 
 collection_date_exact         | date                        |           |          | 
 last_known_sample_archive     | character varying(200)      |           |          | 
 archive_additional_info       | text                        |           |          | 
 funding_grant_id              | character varying(100)      |           |          | 
 associated_references         | text                        |           |          | 
 keywords                      | text                        |           |          | 
 n_aft_grains                  | integer                     |           |          | 
 n_ahe_grains                  | integer                     |           |          | 
 created_at                    | timestamp without time zone |           |          | CURRENT_TIMESTAMP
 updated_at                    | timestamp without time zone |           |          | CURRENT_TIMESTAMP
Indexes:
    "samples_pkey" PRIMARY KEY, btree (sample_id)
    "idx_samples_dataset" btree (dataset_id)
    "idx_samples_igsn" btree (igsn) WHERE igsn IS NOT NULL

